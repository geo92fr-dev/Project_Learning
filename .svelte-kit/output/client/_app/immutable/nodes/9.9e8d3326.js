import{s as K,f as C,a as S,A as Q,g as E,d as v,c as y,h as N,B as P,j as f,x as r,i as H,z as B,o as W,l as L,m as O,n as R,y as z,D as J}from"../chunks/scheduler.8dd50edf.js";import{S as X,i as Y,t as q,c as Z,a as w,g as $,b as x,d as ee,m as te,e as se}from"../chunks/index.af76732a.js";import{G as le}from"../chunks/GoogleAuth.6ac148d5.js";import{i as ne,u as ae}from"../chunks/googleAuth.03c8b086.js";function U(i){let e,n,l;return{c(){e=C("div"),n=L("‚úÖ "),l=L(i[1]),this.h()},l(t){e=E(t,"DIV",{class:!0,"data-testid":!0});var s=N(e);n=O(s,"‚úÖ "),l=O(s,i[1]),s.forEach(v),this.h()},h(){f(e,"class","message success svelte-1srlnp4"),f(e,"data-testid","success-message")},m(t,s){H(t,e,s),r(e,n),r(e,l)},p(t,s){s&2&&R(l,t[1])},d(t){t&&v(e)}}}function j(i){let e,n,l;return{c(){e=C("div"),n=L("‚ùå "),l=L(i[2]),this.h()},l(t){e=E(t,"DIV",{class:!0,"data-testid":!0});var s=N(e);n=O(s,"‚ùå "),l=O(s,i[2]),s.forEach(v),this.h()},h(){f(e,"class","message error svelte-1srlnp4"),f(e,"data-testid","error-message")},m(t,s){H(t,e,s),r(e,n),r(e,l)},p(t,s){s&4&&R(l,t[2])},d(t){t&&v(e)}}}function re(i){let e,n='<div class="loading-spinner svelte-1srlnp4"></div> <p>Chargement de l&#39;authentification...</p>';return{c(){e=C("div"),e.innerHTML=n,this.h()},l(l){e=E(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1d6inqv"&&(e.innerHTML=n),this.h()},h(){f(e,"class","loading-section svelte-1srlnp4")},m(l,t){H(l,e,t)},p:z,i:z,o:z,d(l){l&&v(e)}}}function ie(i){let e,n,l,t,s,h,D="üêõ Informations de d√©bogage",m,c,a,g="√âtat d'authentification:",I,k,V=i[3]?"‚úÖ Connect√©":"‚ùå Non connect√©",G,p,d;l=new le({props:{buttonText:"Se connecter avec Google",showUserInfo:!0,size:"medium"}}),l.$on("success",i[5]),l.$on("error",i[6]);let _=i[4]&&F(i);return{c(){e=C("section"),n=C("div"),x(l.$$.fragment),t=S(),s=C("div"),h=C("h3"),h.textContent=D,m=S(),c=C("div"),a=C("strong"),a.textContent=g,I=S(),k=C("span"),G=L(V),p=S(),_&&_.c(),this.h()},l(u){e=E(u,"SECTION",{class:!0});var T=N(e);n=E(T,"DIV",{class:!0});var o=N(n);ee(l.$$.fragment,o),o.forEach(v),t=y(T),s=E(T,"DIV",{class:!0});var b=N(s);h=E(b,"H3",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-dndimc"&&(h.textContent=D),m=y(b),c=E(b,"DIV",{class:!0});var M=N(c);a=E(M,"STRONG",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-tlc3yi"&&(a.textContent=g),I=y(M),k=E(M,"SPAN",{class:!0});var A=N(k);G=O(A,V),A.forEach(v),M.forEach(v),p=y(b),_&&_.l(b),b.forEach(v),T.forEach(v),this.h()},h(){f(n,"class","auth-card svelte-1srlnp4"),f(h,"class","svelte-1srlnp4"),f(a,"class","svelte-1srlnp4"),f(k,"class","status svelte-1srlnp4"),J(k,"authenticated",i[3]),f(c,"class","debug-item svelte-1srlnp4"),f(s,"class","debug-info svelte-1srlnp4"),f(e,"class","auth-section svelte-1srlnp4")},m(u,T){H(u,e,T),r(e,n),te(l,n,null),r(e,t),r(e,s),r(s,h),r(s,m),r(s,c),r(c,a),r(c,I),r(c,k),r(k,G),r(s,p),_&&_.m(s,null),d=!0},p(u,T){(!d||T&8)&&V!==(V=u[3]?"‚úÖ Connect√©":"‚ùå Non connect√©")&&R(G,V),(!d||T&8)&&J(k,"authenticated",u[3]),u[4]?_?_.p(u,T):(_=F(u),_.c(),_.m(s,null)):_&&(_.d(1),_=null)},i(u){d||(w(l.$$.fragment,u),d=!0)},o(u){q(l.$$.fragment,u),d=!1},d(u){u&&v(e),se(l),_&&_.d()}}}function F(i){let e,n,l="Utilisateur:",t,s,h=JSON.stringify(i[4],null,2)+"",D;return{c(){e=C("div"),n=C("strong"),n.textContent=l,t=S(),s=C("pre"),D=L(h),this.h()},l(m){e=E(m,"DIV",{class:!0});var c=N(e);n=E(c,"STRONG",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1ozvas3"&&(n.textContent=l),t=y(c),s=E(c,"PRE",{class:!0});var a=N(s);D=O(a,h),a.forEach(v),c.forEach(v),this.h()},h(){f(n,"class","svelte-1srlnp4"),f(s,"class","svelte-1srlnp4"),f(e,"class","debug-item svelte-1srlnp4")},m(m,c){H(m,e,c),r(e,n),r(e,t),r(e,s),r(s,D)},p(m,c){c&16&&h!==(h=JSON.stringify(m[4],null,2)+"")&&R(D,h)},d(m){m&&v(e)}}}function oe(i){let e,n,l,t,s,h='<h1 class="svelte-1srlnp4">üîê Authentification Google</h1> <p class="svelte-1srlnp4">Test de l&#39;impl√©mentation TDD selon DOC_CoPilot_Practices</p>',D,m,c,a,g,I,k,V='<a href="/" class="nav-link svelte-1srlnp4">üè† Retour √† l&#39;accueil</a> <a href="/dashboard" class="nav-link svelte-1srlnp4">üìä Dashboard</a>',G,p=i[1]&&U(i),d=i[2]&&j(i);const _=[ie,re],u=[];function T(o,b){return o[0]?0:1}return a=T(i),g=u[a]=_[a](i),{c(){e=C("meta"),n=S(),l=C("main"),t=C("div"),s=C("header"),s.innerHTML=h,D=S(),p&&p.c(),m=S(),d&&d.c(),c=S(),g.c(),I=S(),k=C("nav"),k.innerHTML=V,this.h()},l(o){const b=Q("svelte-1vy61z5",document.head);e=E(b,"META",{name:!0,content:!0}),b.forEach(v),n=y(o),l=E(o,"MAIN",{class:!0,"data-testid":!0});var M=N(l);t=E(M,"DIV",{class:!0});var A=N(t);s=E(A,"HEADER",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-1b7d8ns"&&(s.innerHTML=h),D=y(A),p&&p.l(A),m=y(A),d&&d.l(A),c=y(A),g.l(A),I=y(A),k=E(A,"NAV",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-1gy77kx"&&(k.innerHTML=V),A.forEach(v),M.forEach(v),this.h()},h(){document.title="Authentification Google - FunLearning",f(e,"name","description"),f(e,"content","Test de l'authentification Google selon TDD et DOC_CoPilot_Practices"),f(s,"class","page-header svelte-1srlnp4"),f(k,"class","page-nav svelte-1srlnp4"),f(t,"class","container svelte-1srlnp4"),f(l,"class","auth-page svelte-1srlnp4"),f(l,"data-testid","auth-page")},m(o,b){r(document.head,e),H(o,n,b),H(o,l,b),r(l,t),r(t,s),r(t,D),p&&p.m(t,null),r(t,m),d&&d.m(t,null),r(t,c),u[a].m(t,null),r(t,I),r(t,k),G=!0},p(o,[b]){o[1]?p?p.p(o,b):(p=U(o),p.c(),p.m(t,m)):p&&(p.d(1),p=null),o[2]?d?d.p(o,b):(d=j(o),d.c(),d.m(t,c)):d&&(d.d(1),d=null);let M=a;a=T(o),a===M?u[a].p(o,b):($(),q(u[M],1,1,()=>{u[M]=null}),Z(),g=u[a],g?g.p(o,b):(g=u[a]=_[a](o),g.c()),w(g,1),g.m(t,I))},i(o){G||(w(g),G=!0)},o(o){q(g),G=!1},d(o){o&&(v(n),v(l)),v(e),p&&p.d(),d&&d.d(),u[a].d()}}}function ce(i,e,n){let l,t;B(i,ne,a=>n(3,l=a)),B(i,ae,a=>n(4,t=a));let s=!1,h="",D="";W(()=>{n(0,s=!0),console.log("‚úÖ Page d'authentification Google charg√©e")});function m(a){var g,I;console.log("üéâ Succ√®s d'authentification:",a.detail),n(1,h=`Bienvenue ${((g=a.detail.user)==null?void 0:g.displayName)||((I=a.detail.user)==null?void 0:I.email)||""}!`),n(2,D=""),setTimeout(()=>{n(1,h="")},3e3)}function c(a){console.error("‚ùå Erreur d'authentification:",a.detail),n(2,D=a.detail.error||"Erreur inconnue"),n(1,h="")}return[s,h,D,l,t,m,c]}class pe extends X{constructor(e){super(),Y(this,e,ce,oe,K,{})}}export{pe as component};
