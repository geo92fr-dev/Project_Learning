import{s as K,f as z,a as N,A as Q,g as C,d as m,c as S,h as M,B as H,j as f,x as r,i as V,z as J,o as W,l as P,m as L,n as O,y as R,D as U}from"../chunks/scheduler.8e7cbb6f.js";import{S as X,i as Y,t as w,c as Z,a as B,g as $,b as x,d as ee,m as te,e as se}from"../chunks/index.e2275cf0.js";import{G as le}from"../chunks/GoogleAuth.3acfb677.js";import{i as ae,u as ne}from"../chunks/googleAuth.97bf3db9.js";function j(i){let e,a,l;return{c(){e=z("div"),a=P("‚úÖ "),l=P(i[1]),this.h()},l(t){e=C(t,"DIV",{class:!0,"data-testid":!0});var s=M(e);a=L(s,"‚úÖ "),l=L(s,i[1]),s.forEach(m),this.h()},h(){f(e,"class","message success svelte-1vr8zmc"),f(e,"data-testid","success-message")},m(t,s){V(t,e,s),r(e,a),r(e,l)},p(t,s){s&2&&O(l,t[1])},d(t){t&&m(e)}}}function q(i){let e,a,l;return{c(){e=z("div"),a=P("‚ùå "),l=P(i[2]),this.h()},l(t){e=C(t,"DIV",{class:!0,"data-testid":!0});var s=M(e);a=L(s,"‚ùå "),l=L(s,i[2]),s.forEach(m),this.h()},h(){f(e,"class","message error svelte-1vr8zmc"),f(e,"data-testid","error-message")},m(t,s){V(t,e,s),r(e,a),r(e,l)},p(t,s){s&4&&O(l,t[2])},d(t){t&&m(e)}}}function re(i){let e,a='<div class="loading-spinner svelte-1vr8zmc"></div> <p>Chargement de l&#39;authentification...</p>';return{c(){e=z("div"),e.innerHTML=a,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-othxw0"&&(e.innerHTML=a),this.h()},h(){f(e,"class","loading-section svelte-1vr8zmc")},m(l,t){V(l,e,t)},p:R,i:R,o:R,d(l){l&&m(e)}}}function ie(i){let e,a,l,t,s,v,k="üêõ Informations de d√©bogage",p,c,n,g="√âtat d'authentification:",A,E,G=i[3]?"‚úÖ Connect√©":"‚ùå Non connect√©",y,h,d;l=new le({props:{buttonText:"Se connecter avec Google",showUserInfo:!0,size:"medium"}}),l.$on("success",i[5]),l.$on("error",i[6]);let _=i[4]&&F(i);return{c(){e=z("section"),a=z("div"),x(l.$$.fragment),t=N(),s=z("div"),v=z("h3"),v.textContent=k,p=N(),c=z("div"),n=z("strong"),n.textContent=g,A=N(),E=z("span"),y=P(G),h=N(),_&&_.c(),this.h()},l(u){e=C(u,"SECTION",{class:!0});var D=M(e);a=C(D,"DIV",{class:!0});var o=M(a);ee(l.$$.fragment,o),o.forEach(m),t=S(D),s=C(D,"DIV",{class:!0});var b=M(s);v=C(b,"H3",{class:!0,"data-svelte-h":!0}),H(v)!=="svelte-dndimc"&&(v.textContent=k),p=S(b),c=C(b,"DIV",{class:!0});var I=M(c);n=C(I,"STRONG",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-tlc3yi"&&(n.textContent=g),A=S(I),E=C(I,"SPAN",{class:!0});var T=M(E);y=L(T,G),T.forEach(m),I.forEach(m),h=S(b),_&&_.l(b),b.forEach(m),D.forEach(m),this.h()},h(){f(a,"class","auth-card svelte-1vr8zmc"),f(v,"class","svelte-1vr8zmc"),f(n,"class","svelte-1vr8zmc"),f(E,"class","status svelte-1vr8zmc"),U(E,"authenticated",i[3]),f(c,"class","debug-item svelte-1vr8zmc"),f(s,"class","debug-info svelte-1vr8zmc"),f(e,"class","auth-section svelte-1vr8zmc")},m(u,D){V(u,e,D),r(e,a),te(l,a,null),r(e,t),r(e,s),r(s,v),r(s,p),r(s,c),r(c,n),r(c,A),r(c,E),r(E,y),r(s,h),_&&_.m(s,null),d=!0},p(u,D){(!d||D&8)&&G!==(G=u[3]?"‚úÖ Connect√©":"‚ùå Non connect√©")&&O(y,G),(!d||D&8)&&U(E,"authenticated",u[3]),u[4]?_?_.p(u,D):(_=F(u),_.c(),_.m(s,null)):_&&(_.d(1),_=null)},i(u){d||(B(l.$$.fragment,u),d=!0)},o(u){w(l.$$.fragment,u),d=!1},d(u){u&&m(e),se(l),_&&_.d()}}}function F(i){let e,a,l="Utilisateur:",t,s,v=JSON.stringify(i[4],null,2)+"",k;return{c(){e=z("div"),a=z("strong"),a.textContent=l,t=N(),s=z("pre"),k=P(v),this.h()},l(p){e=C(p,"DIV",{class:!0});var c=M(e);a=C(c,"STRONG",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1ozvas3"&&(a.textContent=l),t=S(c),s=C(c,"PRE",{class:!0});var n=M(s);k=L(n,v),n.forEach(m),c.forEach(m),this.h()},h(){f(a,"class","svelte-1vr8zmc"),f(s,"class","svelte-1vr8zmc"),f(e,"class","debug-item svelte-1vr8zmc")},m(p,c){V(p,e,c),r(e,a),r(e,t),r(e,s),r(s,k)},p(p,c){c&16&&v!==(v=JSON.stringify(p[4],null,2)+"")&&O(k,v)},d(p){p&&m(e)}}}function oe(i){let e,a,l,t,s,v='<h1 class="svelte-1vr8zmc">üîê Authentification Google</h1> <p class="svelte-1vr8zmc">Test de l&#39;impl√©mentation TDD selon DOC_CoPilot_Practices</p>',k,p,c,n,g,A,E,G='<a href="/" class="nav-link svelte-1vr8zmc">üè† Retour √† l&#39;accueil</a> <a href="/dashboard" class="nav-link svelte-1vr8zmc">üìä Dashboard</a>',y,h=i[1]&&j(i),d=i[2]&&q(i);const _=[ie,re],u=[];function D(o,b){return o[0]?0:1}return n=D(i),g=u[n]=_[n](i),{c(){e=z("meta"),a=N(),l=z("main"),t=z("div"),s=z("header"),s.innerHTML=v,k=N(),h&&h.c(),p=N(),d&&d.c(),c=N(),g.c(),A=N(),E=z("nav"),E.innerHTML=G,this.h()},l(o){const b=Q("svelte-1ce24df",document.head);e=C(b,"META",{name:!0,content:!0}),b.forEach(m),a=S(o),l=C(o,"MAIN",{class:!0,"data-testid":!0});var I=M(l);t=C(I,"DIV",{class:!0});var T=M(t);s=C(T,"HEADER",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-1b7d8ns"&&(s.innerHTML=v),k=S(T),h&&h.l(T),p=S(T),d&&d.l(T),c=S(T),g.l(T),A=S(T),E=C(T,"NAV",{class:!0,"data-svelte-h":!0}),H(E)!=="svelte-1gy77kx"&&(E.innerHTML=G),T.forEach(m),I.forEach(m),this.h()},h(){document.title="Authentification Google - FunLearning",f(e,"name","description"),f(e,"content","Test de l'authentification Google selon TDD et DOC_CoPilot_Practices"),f(s,"class","page-header svelte-1vr8zmc"),f(E,"class","page-nav svelte-1vr8zmc"),f(t,"class","container svelte-1vr8zmc"),f(l,"class","auth-page svelte-1vr8zmc"),f(l,"data-testid","auth-page")},m(o,b){r(document.head,e),V(o,a,b),V(o,l,b),r(l,t),r(t,s),r(t,k),h&&h.m(t,null),r(t,p),d&&d.m(t,null),r(t,c),u[n].m(t,null),r(t,A),r(t,E),y=!0},p(o,[b]){o[1]?h?h.p(o,b):(h=j(o),h.c(),h.m(t,p)):h&&(h.d(1),h=null),o[2]?d?d.p(o,b):(d=q(o),d.c(),d.m(t,c)):d&&(d.d(1),d=null);let I=n;n=D(o),n===I?u[n].p(o,b):($(),w(u[I],1,1,()=>{u[I]=null}),Z(),g=u[n],g?g.p(o,b):(g=u[n]=_[n](o),g.c()),B(g,1),g.m(t,A))},i(o){y||(B(g),y=!0)},o(o){w(g),y=!1},d(o){o&&(m(a),m(l)),m(e),h&&h.d(),d&&d.d(),u[n].d()}}}function ce(i,e,a){let l,t;J(i,ae,n=>a(3,l=n)),J(i,ne,n=>a(4,t=n));let s=!1,v="",k="";W(()=>{a(0,s=!0),console.log("‚úÖ Page d'authentification Google charg√©e")});function p(n){var g,A;console.log("üéâ Succ√®s d'authentification:",n.detail),a(1,v=`Bienvenue ${((g=n.detail.user)==null?void 0:g.displayName)||((A=n.detail.user)==null?void 0:A.email)||""}!`),a(2,k=""),setTimeout(()=>{a(1,v="")},3e3)}function c(n){console.error("‚ùå Erreur d'authentification:",n.detail),a(2,k=n.detail.error||"Erreur inconnue"),a(1,v="")}return[s,v,k,l,t,p,c]}class he extends X{constructor(e){super(),Y(this,e,ce,oe,K,{})}}export{he as component};
