import{s as Te,f as v,l as V,a as T,g as _,h as g,m as j,d as f,c as N,j as p,i as Q,x as r,n as U,y as te,F as Re,G as Ee,C as ie,I as oe,B as $,e as ce,A as He,z as Ce,o as Oe,k as ke}from"../chunks/scheduler.02e0ea0e.js";import{S as Ne,i as qe,t as de,c as Qe,a as pe,g as Le,b as Be,d as Fe,m as Je,e as Ue}from"../chunks/index.ee037b30.js";import{e as Se,u as Ge,d as Ke}from"../chunks/each.4470a8e9.js";import{d as ve,w as We}from"../chunks/index.3731fc92.js";function ze(s,e,t){const l=s.slice();return l[11]=e[t],l}function Ie(s){let e,t,l=s[0].timeLimit+"",c,n;return{c(){e=v("span"),t=V("⏱️ "),c=V(l),n=V("s"),this.h()},l(i){e=_(i,"SPAN",{class:!0});var u=g(e);t=j(u,"⏱️ "),c=j(u,l),n=j(u,"s"),u.forEach(f),this.h()},h(){p(e,"class","time-limit svelte-63fe2j")},m(i,u){Q(i,e,u),r(e,t),r(e,c),r(e,n)},p(i,u){u&1&&l!==(l=i[0].timeLimit+"")&&U(c,l)},d(i){i&&f(e)}}}function De(s){let e,t=s[0].description+"",l;return{c(){e=v("p"),l=V(t),this.h()},l(c){e=_(c,"P",{class:!0});var n=g(e);l=j(n,t),n.forEach(f),this.h()},h(){p(e,"class","exercise-description svelte-63fe2j")},m(c,n){Q(c,e,n),r(e,l)},p(c,n){n&1&&t!==(t=c[0].description+"")&&U(l,t)},d(c){c&&f(e)}}}function we(s){let e,t,l=s[11].explanation+"",c;return{c(){e=v("div"),t=V("💡 "),c=V(l),this.h()},l(n){e=_(n,"DIV",{class:!0});var i=g(e);t=j(i,"💡 "),c=j(i,l),i.forEach(f),this.h()},h(){p(e,"class","option-explanation svelte-63fe2j")},m(n,i){Q(n,e,i),r(e,t),r(e,c)},p(n,i){i&1&&l!==(l=n[11].explanation+"")&&U(c,l)},d(n){n&&f(e)}}}function Ve(s){let e,t;function l(i,u){if(u&9&&(e=null),i[11].isCorrect)return Ye;if(e==null&&(e=!!i[3].includes(i[11].id)),e)return Xe}let c=l(s,-1),n=c&&c(s);return{c(){n&&n.c(),t=ce()},l(i){n&&n.l(i),t=ce()},m(i,u){n&&n.m(i,u),Q(i,t,u)},p(i,u){c!==(c=l(i,u))&&(n&&n.d(1),n=c&&c(i),n&&(n.c(),n.m(t.parentNode,t)))},d(i){i&&f(t),n&&n.d(i)}}}function Xe(s){let e;return{c(){e=V("❌")},l(t){e=j(t,"❌")},m(t,l){Q(t,e,l)},d(t){t&&f(e)}}}function Ye(s){let e;return{c(){e=V("✅")},l(t){e=j(t,"✅")},m(t,l){Q(t,e,l)},d(t){t&&f(e)}}}function je(s,e){let t,l,c,n,i,u,o,a,C,S=e[11].text+"",x,h,m=e[2]&&e[3].includes(e[11].id)&&e[11].explanation,k,E,R,F,J,H;function B(...b){return e[9](e[11],...b)}let D=m&&we(e),w=e[2]&&Ve(e);return{key:s,first:null,c(){t=v("label"),l=v("input"),o=T(),a=v("div"),C=v("span"),x=V(S),h=T(),D&&D.c(),k=T(),E=v("div"),w&&w.c(),R=T(),this.h()},l(b){t=_(b,"LABEL",{class:!0});var d=g(t);l=_(d,"INPUT",{type:!0,name:!0,class:!0}),o=N(d),a=_(d,"DIV",{class:!0});var z=g(a);C=_(z,"SPAN",{class:!0});var P=g(C);x=j(P,S),P.forEach(f),h=N(z),D&&D.l(z),z.forEach(f),k=N(d),E=_(d,"DIV",{class:!0});var y=g(E);w&&w.l(y),y.forEach(f),R=N(d),d.forEach(f),this.h()},h(){p(l,"type",c=e[0].multipleCorrect?"checkbox":"radio"),p(l,"name",n="qcm-"+e[0].id),l.value=i=e[11].id,l.checked=u=e[3].includes(e[11].id),l.disabled=e[1],p(l,"class","svelte-63fe2j"),p(C,"class","option-text svelte-63fe2j"),p(a,"class","option-content svelte-63fe2j"),p(E,"class","option-indicator svelte-63fe2j"),p(t,"class",F=Ee(e[7](e[11]))+" svelte-63fe2j"),this.first=t},m(b,d){Q(b,t,d),r(t,l),r(t,o),r(t,a),r(a,C),r(C,x),r(a,h),D&&D.m(a,null),r(t,k),r(t,E),w&&w.m(E,null),r(t,R),J||(H=ie(l,"change",B),J=!0)},p(b,d){e=b,d&1&&c!==(c=e[0].multipleCorrect?"checkbox":"radio")&&p(l,"type",c),d&1&&n!==(n="qcm-"+e[0].id)&&p(l,"name",n),d&1&&i!==(i=e[11].id)&&l.value!==i&&(l.value=i),d&9&&u!==(u=e[3].includes(e[11].id))&&(l.checked=u),d&2&&(l.disabled=e[1]),d&1&&S!==(S=e[11].text+"")&&U(x,S),d&13&&(m=e[2]&&e[3].includes(e[11].id)&&e[11].explanation),m?D?D.p(e,d):(D=we(e),D.c(),D.m(a,null)):D&&(D.d(1),D=null),e[2]?w?w.p(e,d):(w=Ve(e),w.c(),w.m(E,null)):w&&(w.d(1),w=null),d&1&&F!==(F=Ee(e[7](e[11]))+" svelte-63fe2j")&&p(t,"class",F)},d(b){b&&f(t),D&&D.d(),w&&w.d(),J=!1,H()}}}function ye(s){let e,t,l,c;function n(o,a){return o[3].length===0?$e:Ze}let i=n(s),u=i(s);return{c(){e=v("div"),t=v("button"),u.c(),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=g(e);t=_(a,"BUTTON",{class:!0});var C=g(t);u.l(C),C.forEach(f),a.forEach(f),this.h()},h(){p(t,"class","submit-btn svelte-63fe2j"),t.disabled=s[1],oe(t,"disabled",!s[4]),p(e,"class","exercise-actions svelte-63fe2j")},m(o,a){Q(o,e,a),r(e,t),u.m(t,null),l||(c=ie(t,"click",s[6]),l=!0)},p(o,a){i===(i=n(o))&&u?u.p(o,a):(u.d(1),u=i(o),u&&(u.c(),u.m(t,null))),a&2&&(t.disabled=o[1]),a&16&&oe(t,"disabled",!o[4])},d(o){o&&f(e),u.d(),l=!1,c()}}}function Ze(s){let e,t=s[3].length+"",l,c,n=s[3].length>1?"s":"",i,u;return{c(){e=V("Valider ("),l=V(t),c=V(" sélectionnée"),i=V(n),u=V(")")},l(o){e=j(o,"Valider ("),l=j(o,t),c=j(o," sélectionnée"),i=j(o,n),u=j(o,")")},m(o,a){Q(o,e,a),Q(o,l,a),Q(o,c,a),Q(o,i,a),Q(o,u,a)},p(o,a){a&8&&t!==(t=o[3].length+"")&&U(l,t),a&8&&n!==(n=o[3].length>1?"s":"")&&U(i,n)},d(o){o&&(f(e),f(l),f(c),f(i),f(u))}}}function $e(s){let e;return{c(){e=V("Sélectionnez une réponse")},l(t){e=j(t,"Sélectionnez une réponse")},m(t,l){Q(t,e,l)},p:te,d(t){t&&f(e)}}}function Ae(s){let e,t,l="💡 Explication",c,n,i=s[0].explanation+"",u;return{c(){e=v("div"),t=v("h5"),t.textContent=l,c=T(),n=v("p"),u=V(i),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=g(e);t=_(a,"H5",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-uxlros"&&(t.textContent=l),c=N(a),n=_(a,"P",{class:!0});var C=g(n);u=j(C,i),C.forEach(f),a.forEach(f),this.h()},h(){p(t,"class","svelte-63fe2j"),p(n,"class","svelte-63fe2j"),p(e,"class","exercise-explanation svelte-63fe2j")},m(o,a){Q(o,e,a),r(e,t),r(e,c),r(e,n),r(n,u)},p(o,a){a&1&&i!==(i=o[0].explanation+"")&&U(u,i)},d(o){o&&f(e)}}}function et(s){let e,t,l,c,n=s[0].difficulty+"",i,u,o,a,C=s[0].points+"",S,x,h,m,k,E=s[0].title+"",R,F,J,H,B,D=s[0].question+"",w,b,d,z=s[0].multipleCorrect?"📝 Sélectionnez toutes les bonnes réponses":"📝 Sélectionnez la bonne réponse",P,y,O,q=[],Y=new Map,ee,Z,L=s[0].timeLimit&&Ie(s),M=s[0].description&&De(s),W=Se(s[0].options);const se=I=>I[11].id;for(let I=0;I<W.length;I+=1){let A=ze(s,W,I),X=se(A);Y.set(X,q[I]=je(X,A))}let G=!s[2]&&ye(s),K=s[2]&&s[0].explanation&&Ae(s);return{c(){e=v("div"),t=v("div"),l=v("div"),c=v("span"),i=V(n),o=T(),a=v("span"),S=V(C),x=V(" pts"),h=T(),L&&L.c(),m=T(),k=v("h3"),R=V(E),F=T(),M&&M.c(),J=T(),H=v("div"),B=v("h4"),w=V(D),b=T(),d=v("p"),P=V(z),y=T(),O=v("div");for(let I=0;I<q.length;I+=1)q[I].c();ee=T(),G&&G.c(),Z=T(),K&&K.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var A=g(e);t=_(A,"DIV",{class:!0});var X=g(t);l=_(X,"DIV",{class:!0});var ne=g(l);c=_(ne,"SPAN",{class:!0});var _e=g(c);i=j(_e,n),_e.forEach(f),o=N(ne),a=_(ne,"SPAN",{class:!0});var ue=g(a);S=j(ue,C),x=j(ue," pts"),ue.forEach(f),h=N(ne),L&&L.l(ne),ne.forEach(f),m=N(X),k=_(X,"H3",{class:!0});var he=g(k);R=j(he,E),he.forEach(f),F=N(X),M&&M.l(X),X.forEach(f),J=N(A),H=_(A,"DIV",{class:!0});var re=g(H);B=_(re,"H4",{class:!0});var me=g(B);w=j(me,D),me.forEach(f),b=N(re),d=_(re,"P",{class:!0});var be=g(d);P=j(be,z),be.forEach(f),re.forEach(f),y=N(A),O=_(A,"DIV",{class:!0});var ge=g(O);for(let fe=0;fe<q.length;fe+=1)q[fe].l(ge);ge.forEach(f),ee=N(A),G&&G.l(A),Z=N(A),K&&K.l(A),A.forEach(f),this.h()},h(){p(c,"class",u="difficulty difficulty-"+s[0].difficulty+" svelte-63fe2j"),p(a,"class","points svelte-63fe2j"),p(l,"class","exercise-meta svelte-63fe2j"),p(k,"class","exercise-title svelte-63fe2j"),p(t,"class","exercise-header svelte-63fe2j"),p(B,"class","question svelte-63fe2j"),p(d,"class","instruction svelte-63fe2j"),p(H,"class","question-section svelte-63fe2j"),p(O,"class","options-list svelte-63fe2j"),p(e,"class","qcm-exercise svelte-63fe2j")},m(I,A){Q(I,e,A),r(e,t),r(t,l),r(l,c),r(c,i),r(l,o),r(l,a),r(a,S),r(a,x),r(l,h),L&&L.m(l,null),r(t,m),r(t,k),r(k,R),r(t,F),M&&M.m(t,null),r(e,J),r(e,H),r(H,B),r(B,w),r(H,b),r(H,d),r(d,P),r(e,y),r(e,O);for(let X=0;X<q.length;X+=1)q[X]&&q[X].m(O,null);r(e,ee),G&&G.m(e,null),r(e,Z),K&&K.m(e,null)},p(I,[A]){A&1&&n!==(n=I[0].difficulty+"")&&U(i,n),A&1&&u!==(u="difficulty difficulty-"+I[0].difficulty+" svelte-63fe2j")&&p(c,"class",u),A&1&&C!==(C=I[0].points+"")&&U(S,C),I[0].timeLimit?L?L.p(I,A):(L=Ie(I),L.c(),L.m(l,null)):L&&(L.d(1),L=null),A&1&&E!==(E=I[0].title+"")&&U(R,E),I[0].description?M?M.p(I,A):(M=De(I),M.c(),M.m(t,null)):M&&(M.d(1),M=null),A&1&&D!==(D=I[0].question+"")&&U(w,D),A&1&&z!==(z=I[0].multipleCorrect?"📝 Sélectionnez toutes les bonnes réponses":"📝 Sélectionnez la bonne réponse")&&U(P,z),A&175&&(W=Se(I[0].options),q=Ge(q,A,se,1,I,W,Y,O,Ke,je,null,ze)),I[2]?G&&(G.d(1),G=null):G?G.p(I,A):(G=ye(I),G.c(),G.m(e,Z)),I[2]&&I[0].explanation?K?K.p(I,A):(K=Ae(I),K.c(),K.m(e,null)):K&&(K.d(1),K=null)},i:te,o:te,d(I){I&&f(e),L&&L.d(),M&&M.d();for(let A=0;A<q.length;A+=1)q[A].d();G&&G.d(),K&&K.d()}}}function tt(s,e,t){let l,{exercise:c}=e,{disabled:n=!1}=e,{showResult:i=!1}=e,{selectedOptions:u=[]}=e;const o=Re();let a=[...u];function C(m,k){n||(c.multipleCorrect?k?t(3,a=[...a,m]):t(3,a=a.filter(E=>E!==m)):t(3,a=k?[m]:[]),o("optionChange",{selectedOptions:a}))}function S(){n||a.length===0||o("submit",{selectedOptions:a})}function x(m){const k="option-card",E=a.includes(m.id);return i?m.isCorrect?`${k} correct ${E?"selected":""}`:E?`${k} incorrect selected`:`${k} ${E?"selected":""}`:`${k} ${E?"selected":""}`}const h=(m,k)=>C(m.id,k.currentTarget.checked);return s.$$set=m=>{"exercise"in m&&t(0,c=m.exercise),"disabled"in m&&t(1,n=m.disabled),"showResult"in m&&t(2,i=m.showResult),"selectedOptions"in m&&t(8,u=m.selectedOptions)},s.$$.update=()=>{s.$$.dirty&10&&t(4,l=!n&&a.length>0)},[c,n,i,a,l,C,S,x,u,h]}class lt extends Ne{constructor(e){super(),qe(this,e,tt,et,Te,{exercise:0,disabled:1,showResult:2,selectedOptions:8})}}const Me={currentExercise:null,userAnswer:null,result:null,isSubmitting:!1,timeStarted:null,collection:null,currentIndex:0},le=We(Me),st=ve(le,s=>s.currentExercise);ve(le,s=>s.currentExercise!==null);const nt=ve(le,s=>s.collection?{current:s.currentIndex+1,total:s.collection.exercises.length,percentage:Math.round(s.currentIndex/s.collection.exercises.length*100)}:{current:0,total:0,percentage:0}),ae={loadCollection:s=>{le.update(e=>({...e,collection:s,currentIndex:0,currentExercise:s.exercises[0]||null,userAnswer:null,result:null,timeStarted:new Date}))},nextExercise:()=>{le.update(s=>{if(!s.collection)return s;const e=s.currentIndex+1,t=s.collection.exercises[e]||null;return{...s,currentIndex:e,currentExercise:t,userAnswer:null,result:null,timeStarted:t?new Date:null}})},submitQCMAnswer:async s=>new Promise(e=>{le.update(t=>{if(!t.currentExercise||t.currentExercise.type!=="qcm")return e(null),t;const l=t.currentExercise,c=t.timeStarted?Math.floor((Date.now()-t.timeStarted.getTime())/1e3):0,n={exerciseId:l.id,type:"qcm",answer:{selectedOptions:s},timeSpent:c,submittedAt:new Date},i=it(l,s,n);return e(i),{...t,userAnswer:n,result:i,isSubmitting:!1}})}),submitTrueFalseAnswer:async s=>new Promise(e=>{le.update(t=>{if(!t.currentExercise||t.currentExercise.type!=="true-false")return e(null),t;const l=t.currentExercise,c=t.timeStarted?Math.floor((Date.now()-t.timeStarted.getTime())/1e3):0,n={exerciseId:l.id,type:"true-false",answer:s,timeSpent:c,submittedAt:new Date},i=s===l.correctAnswer,u=i?l.points:0,o={exerciseId:l.id,userId:"current-user",answer:n,isCorrect:i,score:u,maxScore:l.points,feedback:i?"Correct ! 🎉":"Incorrect 😔",explanation:l.explanation,completedAt:new Date};return e(o),{...t,userAnswer:n,result:o,isSubmitting:!1}})}),reset:()=>{le.set(Me)}};function it(s,e,t){const l=s.options.filter(u=>u.isCorrect).map(u=>u.id),c=s.multipleCorrect?rt(e.sort(),l.sort()):e.length===1&&l.includes(e[0]);let n=0;if(c)n=s.points;else if(s.multipleCorrect){const u=e.filter(a=>l.includes(a)).length,o=e.filter(a=>!l.includes(a)).length;n=Math.max(0,(u-o)/l.length*s.points)}const i=c?"🎉 Excellent ! Réponse correcte.":n>0?`⚡ Partiellement correct. Score: ${Math.round(n)}/${s.points}`:"❌ Réponse incorrecte.";return{exerciseId:s.id,userId:"current-user",answer:t,isCorrect:c,score:Math.round(n),maxScore:s.points,feedback:i,explanation:s.explanation,completedAt:new Date}}function rt(s,e){return s.length===e.length&&s.every((t,l)=>t===e[l])}function at(s){let e,t='<div class="loading-spinner svelte-1oupcgz">⏳</div> <p>Chargement des exercices...</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-4wbx96"&&(e.innerHTML=t),this.h()},h(){p(e,"class","loading-section svelte-1oupcgz")},m(l,c){Q(l,e,c)},p:te,i:te,o:te,d(l){l&&f(e)}}}function ot(s){let e,t,l,c="🏆",n,i,u="Quiz terminé !",o,a,C=`Félicitations ! Vous avez terminé tous les exercices de cette
            collection.`,S,x,h,m,k="Questions",E,R,F=s[0].total+"",J,H,B,D,w="Progression",b,d,z=s[0].percentage+"",P,y,O,q,Y="🔄 Recommencer",ee,Z;return{c(){e=v("div"),t=v("div"),l=v("div"),l.textContent=c,n=T(),i=v("h2"),i.textContent=u,o=T(),a=v("p"),a.textContent=C,S=T(),x=v("div"),h=v("div"),m=v("span"),m.textContent=k,E=T(),R=v("span"),J=V(F),H=T(),B=v("div"),D=v("span"),D.textContent=w,b=T(),d=v("span"),P=V(z),y=V("%"),O=T(),q=v("button"),q.textContent=Y,this.h()},l(L){e=_(L,"DIV",{class:!0});var M=g(e);t=_(M,"DIV",{class:!0});var W=g(t);l=_(W,"DIV",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-1uvgfen"&&(l.textContent=c),n=N(W),i=_(W,"H2",{class:!0,"data-svelte-h":!0}),$(i)!=="svelte-1vc9bb8"&&(i.textContent=u),o=N(W),a=_(W,"P",{"data-svelte-h":!0}),$(a)!=="svelte-h2c81g"&&(a.textContent=C),S=N(W),x=_(W,"DIV",{class:!0});var se=g(x);h=_(se,"DIV",{class:!0});var G=g(h);m=_(G,"SPAN",{class:!0,"data-svelte-h":!0}),$(m)!=="svelte-18drt2j"&&(m.textContent=k),E=N(G),R=_(G,"SPAN",{class:!0});var K=g(R);J=j(K,F),K.forEach(f),G.forEach(f),H=N(se),B=_(se,"DIV",{class:!0});var I=g(B);D=_(I,"SPAN",{class:!0,"data-svelte-h":!0}),$(D)!=="svelte-19ugd61"&&(D.textContent=w),b=N(I),d=_(I,"SPAN",{class:!0});var A=g(d);P=j(A,z),y=j(A,"%"),A.forEach(f),I.forEach(f),se.forEach(f),O=N(W),q=_(W,"BUTTON",{class:!0,"data-svelte-h":!0}),$(q)!=="svelte-y4t5sg"&&(q.textContent=Y),W.forEach(f),M.forEach(f),this.h()},h(){p(l,"class","completion-icon svelte-1oupcgz"),p(i,"class","svelte-1oupcgz"),p(m,"class","stat-label svelte-1oupcgz"),p(R,"class","stat-value svelte-1oupcgz"),p(h,"class","stat svelte-1oupcgz"),p(D,"class","stat-label svelte-1oupcgz"),p(d,"class","stat-value svelte-1oupcgz"),p(B,"class","stat svelte-1oupcgz"),p(x,"class","completion-stats svelte-1oupcgz"),p(q,"class","btn btn-secondary svelte-1oupcgz"),p(t,"class","completion-card svelte-1oupcgz"),p(e,"class","completion-section svelte-1oupcgz")},m(L,M){Q(L,e,M),r(e,t),r(t,l),r(t,n),r(t,i),r(t,o),r(t,a),r(t,S),r(t,x),r(x,h),r(h,m),r(h,E),r(h,R),r(R,J),r(x,H),r(x,B),r(B,D),r(B,b),r(B,d),r(d,P),r(d,y),r(t,O),r(t,q),ee||(Z=ie(q,"click",s[9]),ee=!0)},p(L,M){M&1&&F!==(F=L[0].total+"")&&U(J,F),M&1&&z!==(z=L[0].percentage+"")&&U(P,z)},i:te,o:te,d(L){L&&f(e),ee=!1,Z()}}}function ct(s){let e,t,l,c,n=s[0].current+"",i,u,o=s[0].total+"",a,C,S,x=s[0].percentage+"",h,m,k,E,R,F,J,H,B,D,w;H=new lt({props:{exercise:s[1],disabled:s[3],showResult:s[3],selectedOptions:s[4]}}),H.$on("submit",s[7]);let b=s[3]&&s[2]&&xe(s);return{c(){e=v("div"),t=v("div"),l=v("span"),c=V("Question "),i=V(n),u=V(" sur "),a=V(o),C=T(),S=v("span"),h=V(x),m=V("%"),k=T(),E=v("div"),R=v("div"),F=T(),J=v("div"),Be(H.$$.fragment),B=T(),b&&b.c(),D=ce(),this.h()},l(d){e=_(d,"DIV",{class:!0});var z=g(e);t=_(z,"DIV",{class:!0});var P=g(t);l=_(P,"SPAN",{class:!0});var y=g(l);c=j(y,"Question "),i=j(y,n),u=j(y," sur "),a=j(y,o),y.forEach(f),C=N(P),S=_(P,"SPAN",{class:!0});var O=g(S);h=j(O,x),m=j(O,"%"),O.forEach(f),P.forEach(f),k=N(z),E=_(z,"DIV",{class:!0});var q=g(E);R=_(q,"DIV",{class:!0,style:!0}),g(R).forEach(f),q.forEach(f),z.forEach(f),F=N(d),J=_(d,"DIV",{class:!0});var Y=g(J);Fe(H.$$.fragment,Y),Y.forEach(f),B=N(d),b&&b.l(d),D=ce(),this.h()},h(){p(l,"class","progress-text svelte-1oupcgz"),p(S,"class","progress-percentage svelte-1oupcgz"),p(t,"class","progress-info svelte-1oupcgz"),p(R,"class","progress-fill svelte-1oupcgz"),ke(R,"width",s[0].percentage+"%"),p(E,"class","progress-bar svelte-1oupcgz"),p(e,"class","progress-section svelte-1oupcgz"),p(J,"class","exercise-section svelte-1oupcgz")},m(d,z){Q(d,e,z),r(e,t),r(t,l),r(l,c),r(l,i),r(l,u),r(l,a),r(t,C),r(t,S),r(S,h),r(S,m),r(e,k),r(e,E),r(E,R),Q(d,F,z),Q(d,J,z),Je(H,J,null),Q(d,B,z),b&&b.m(d,z),Q(d,D,z),w=!0},p(d,z){(!w||z&1)&&n!==(n=d[0].current+"")&&U(i,n),(!w||z&1)&&o!==(o=d[0].total+"")&&U(a,o),(!w||z&1)&&x!==(x=d[0].percentage+"")&&U(h,x),(!w||z&1)&&ke(R,"width",d[0].percentage+"%");const P={};z&2&&(P.exercise=d[1]),z&8&&(P.disabled=d[3]),z&8&&(P.showResult=d[3]),z&16&&(P.selectedOptions=d[4]),H.$set(P),d[3]&&d[2]?b?b.p(d,z):(b=xe(d),b.c(),b.m(D.parentNode,D)):b&&(b.d(1),b=null)},i(d){w||(pe(H.$$.fragment,d),w=!0)},o(d){de(H.$$.fragment,d),w=!1},d(d){d&&(f(e),f(F),f(J),f(B),f(D)),Ue(H),b&&b.d(d)}}}function xe(s){let e,t,l,c,n=s[2].isCorrect?"🎉":"💪",i,u,o,a,C=s[2].feedback+"",S,x,h,m,k=s[2].score+"",E,R,F=s[2].maxScore+"",J,H,B,D,w,b=s[2].explanation&&Pe(s);function d(y,O){return y[6]?ft:ut}let z=d(s),P=z(s);return{c(){e=v("div"),t=v("div"),l=v("div"),c=v("div"),i=V(n),u=T(),o=v("div"),a=v("h3"),S=V(C),x=T(),h=v("p"),m=V("Score: "),E=V(k),R=V("/"),J=V(F),H=V(" points"),B=T(),b&&b.c(),D=T(),w=v("div"),P.c(),this.h()},l(y){e=_(y,"DIV",{class:!0});var O=g(e);t=_(O,"DIV",{class:!0});var q=g(t);l=_(q,"DIV",{class:!0});var Y=g(l);c=_(Y,"DIV",{class:!0});var ee=g(c);i=j(ee,n),ee.forEach(f),u=N(Y),o=_(Y,"DIV",{class:!0});var Z=g(o);a=_(Z,"H3",{class:!0});var L=g(a);S=j(L,C),L.forEach(f),x=N(Z),h=_(Z,"P",{class:!0});var M=g(h);m=j(M,"Score: "),E=j(M,k),R=j(M,"/"),J=j(M,F),H=j(M," points"),M.forEach(f),Z.forEach(f),Y.forEach(f),B=N(q),b&&b.l(q),D=N(q),w=_(q,"DIV",{class:!0});var W=g(w);P.l(W),W.forEach(f),q.forEach(f),O.forEach(f),this.h()},h(){p(c,"class","result-icon svelte-1oupcgz"),p(a,"class","result-title svelte-1oupcgz"),p(h,"class","result-score svelte-1oupcgz"),p(o,"class","result-info"),p(l,"class","result-header svelte-1oupcgz"),p(w,"class","result-actions svelte-1oupcgz"),p(t,"class","result-card svelte-1oupcgz"),oe(t,"correct",s[2].isCorrect),p(e,"class","result-section svelte-1oupcgz")},m(y,O){Q(y,e,O),r(e,t),r(t,l),r(l,c),r(c,i),r(l,u),r(l,o),r(o,a),r(a,S),r(o,x),r(o,h),r(h,m),r(h,E),r(h,R),r(h,J),r(h,H),r(t,B),b&&b.m(t,null),r(t,D),r(t,w),P.m(w,null)},p(y,O){O&4&&n!==(n=y[2].isCorrect?"🎉":"💪")&&U(i,n),O&4&&C!==(C=y[2].feedback+"")&&U(S,C),O&4&&k!==(k=y[2].score+"")&&U(E,k),O&4&&F!==(F=y[2].maxScore+"")&&U(J,F),y[2].explanation?b?b.p(y,O):(b=Pe(y),b.c(),b.m(t,D)):b&&(b.d(1),b=null),z===(z=d(y))&&P?P.p(y,O):(P.d(1),P=z(y),P&&(P.c(),P.m(w,null))),O&4&&oe(t,"correct",y[2].isCorrect)},d(y){y&&f(e),b&&b.d(),P.d()}}}function Pe(s){let e,t,l="📖 Explication:",c,n,i=s[2].explanation+"",u;return{c(){e=v("div"),t=v("strong"),t.textContent=l,c=T(),n=v("p"),u=V(i),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=g(e);t=_(a,"STRONG",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-rnhzp9"&&(t.textContent=l),c=N(a),n=_(a,"P",{});var C=g(n);u=j(C,i),C.forEach(f),a.forEach(f),this.h()},h(){p(t,"class","svelte-1oupcgz"),p(e,"class","result-explanation svelte-1oupcgz")},m(o,a){Q(o,e,a),r(e,t),r(e,c),r(e,n),r(n,u)},p(o,a){a&4&&i!==(i=o[2].explanation+"")&&U(u,i)},d(o){o&&f(e)}}}function ut(s){let e,t="➡️ Question suivante",l,c;return{c(){e=v("button"),e.textContent=t,this.h()},l(n){e=_(n,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-15t93aa"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-primary svelte-1oupcgz")},m(n,i){Q(n,e,i),l||(c=ie(e,"click",s[8]),l=!0)},p:te,d(n){n&&f(e),l=!1,c()}}}function ft(s){let e,t="🔄 Recommencer le quiz",l,c;return{c(){e=v("button"),e.textContent=t,this.h()},l(n){e=_(n,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1go9gs8"&&(e.textContent=t),this.h()},h(){p(e,"class","btn btn-primary svelte-1oupcgz")},m(n,i){Q(n,e,i),l||(c=ie(e,"click",s[9]),l=!0)},p:te,d(n){n&&f(e),l=!1,c()}}}function dt(s){let e,t,l,c='<h1 class="svelte-1oupcgz">🎯 Test des Exercices - Phase 3</h1> <p class="svelte-1oupcgz">Système d&#39;exercices QCM interactifs avec validation automatique</p>',n,i,u,o,a;const C=[ct,ot,at],S=[];function x(h,m){return h[1]?0:h[5]?1:2}return u=x(s),o=S[u]=C[u](s),{c(){e=T(),t=v("div"),l=v("header"),l.innerHTML=c,n=T(),i=v("div"),o.c(),this.h()},l(h){He("svelte-f9zim5",document.head).forEach(f),e=N(h),t=_(h,"DIV",{class:!0});var k=g(t);l=_(k,"HEADER",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-1jahj6"&&(l.innerHTML=c),n=N(k),i=_(k,"DIV",{class:!0});var E=g(i);o.l(E),E.forEach(f),k.forEach(f),this.h()},h(){document.title="Test Exercices - FunLearning V3.0",p(l,"class","page-header svelte-1oupcgz"),p(i,"class","container svelte-1oupcgz"),p(t,"class","test-exercises-page svelte-1oupcgz")},m(h,m){Q(h,e,m),Q(h,t,m),r(t,l),r(t,n),r(t,i),S[u].m(i,null),a=!0},p(h,[m]){let k=u;u=x(h),u===k?S[u].p(h,m):(Le(),de(S[k],1,1,()=>{S[k]=null}),Qe(),o=S[u],o?o.p(h,m):(o=S[u]=C[u](h),o.c()),pe(o,1),o.m(i,null))},i(h){a||(pe(o),a=!0)},o(h){de(o),a=!1},d(h){h&&(f(e),f(t)),S[u].d()}}}function pt(s,e,t){let l,c,n,i,u,o;Ce(s,st,E=>t(10,u=E)),Ce(s,nt,E=>t(11,o=E));let a=null,C=!1,S=[];const x={id:"test-collection-1",title:"Quiz JavaScript Débutant",description:"Testez vos connaissances de base en JavaScript",totalPoints:30,estimatedTime:10,exercises:[{id:"js-1",title:"Variables JavaScript",description:"Connaissances de base sur les variables",type:"qcm",difficulty:"debutant",points:10,category:"javascript",tags:["variables","fondamentaux"],question:"Quelle est la façon correcte de déclarer une variable en JavaScript moderne ?",options:[{id:"opt1",text:'var myVariable = "Hello";',isCorrect:!1,explanation:"var est l'ancienne syntaxe, pas recommandée"},{id:"opt2",text:'let myVariable = "Hello";',isCorrect:!0,explanation:"let est la syntaxe moderne recommandée"},{id:"opt3",text:'variable myVariable = "Hello";',isCorrect:!1,explanation:"Cette syntaxe n'existe pas en JavaScript"},{id:"opt4",text:'const myVariable = "Hello";',isCorrect:!0,explanation:"const est aussi recommandé pour les valeurs constantes"}],explanation:"En JavaScript moderne, utilisez let pour les variables qui changent et const pour les constantes.",multipleCorrect:!0,createdAt:new Date,updatedAt:new Date}]};Oe(()=>{console.log("🎯 Initialisation du test des exercices"),ae.loadCollection(x)});async function h(E){const R=await ae.submitQCMAnswer(E.detail.selectedOptions);R&&(t(2,a=R),t(3,C=!0),t(4,S=E.detail.selectedOptions))}function m(){t(3,C=!1),t(2,a=null),t(4,S=[]),ae.nextExercise()}function k(){t(3,C=!1),t(2,a=null),t(4,S=[]),ae.loadCollection(x)}return s.$$.update=()=>{s.$$.dirty&2048&&t(0,l=o),s.$$.dirty&1024&&t(1,c=u),s.$$.dirty&1&&t(6,n=l.current===l.total),s.$$.dirty&3&&t(5,i=!c&&l.current>0)},[l,c,a,C,S,i,n,h,m,k,u,o]}class bt extends Ne{constructor(e){super(),qe(this,e,pt,dt,Te,{})}}export{bt as component};
