import{s as R,f as b,a as E,A as $,g as x,d as p,c as C,h as y,j as v,x as k,i as M,z as w,o as q,B as T,y as A,l as S,m as F,n as G}from"../chunks/scheduler.8dd50edf.js";import{S as B,i as N,t as I,c as O,a as D,g as P,b as j,d as U,m as J,e as K}from"../chunks/index.af76732a.js";import{g as L}from"../chunks/navigation.e383eed4.js";import{G as Q}from"../chunks/GoogleAuth.64801b47.js";import{i as W}from"../chunks/googleAuth.03c8b086.js";function X(a){let e,n='<div class="spinner svelte-1x41krk"></div> <p>Chargement...</p>';return{c(){e=b("div"),e.innerHTML=n,this.h()},l(s){e=x(s,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1hxsfeo"&&(e.innerHTML=n),this.h()},h(){v(e,"class","loading-container svelte-1x41krk")},m(s,t){M(s,e,t)},p:A,i:A,o:A,d(s){s&&p(e)}}}function Y(a){let e,n,s='<h1 class="svelte-1x41krk">üîê Connexion FunLearning</h1> <p class="svelte-1x41krk">Connectez-vous pour acc√©der √† votre espace d&#39;apprentissage</p>',t,r,l,i,c,h,o,m='<p>En vous connectant, vous acceptez nos conditions d&#39;utilisation.</p> <a href="/" class="svelte-1x41krk">‚Üê Retour √† l&#39;accueil</a>',g,u=a[1]&&V(a),d=a[2]&&z(a);return c=new Q({props:{buttonText:"Se connecter avec Google",size:"large",showUserInfo:!1}}),c.$on("success",a[3]),c.$on("error",a[4]),{c(){e=b("div"),n=b("header"),n.innerHTML=s,t=E(),u&&u.c(),r=E(),d&&d.c(),l=E(),i=b("div"),j(c.$$.fragment),h=E(),o=b("footer"),o.innerHTML=m,this.h()},l(f){e=x(f,"DIV",{class:!0});var _=y(e);n=x(_,"HEADER",{class:!0,"data-svelte-h":!0}),T(n)!=="svelte-aky6wf"&&(n.innerHTML=s),t=C(_),u&&u.l(_),r=C(_),d&&d.l(_),l=C(_),i=x(_,"DIV",{class:!0});var H=y(i);U(c.$$.fragment,H),H.forEach(p),h=C(_),o=x(_,"FOOTER",{class:!0,"data-svelte-h":!0}),T(o)!=="svelte-1n970uq"&&(o.innerHTML=m),_.forEach(p),this.h()},h(){v(n,"class","login-header svelte-1x41krk"),v(i,"class","auth-section svelte-1x41krk"),v(o,"class","login-footer svelte-1x41krk"),v(e,"class","login-card svelte-1x41krk")},m(f,_){M(f,e,_),k(e,n),k(e,t),u&&u.m(e,null),k(e,r),d&&d.m(e,null),k(e,l),k(e,i),J(c,i,null),k(e,h),k(e,o),g=!0},p(f,_){f[1]?u?u.p(f,_):(u=V(f),u.c(),u.m(e,r)):u&&(u.d(1),u=null),f[2]?d?d.p(f,_):(d=z(f),d.c(),d.m(e,l)):d&&(d.d(1),d=null)},i(f){g||(D(c.$$.fragment,f),g=!0)},o(f){I(c.$$.fragment,f),g=!1},d(f){f&&p(e),u&&u.d(),d&&d.d(),K(c)}}}function V(a){let e,n,s,t,r="Redirection en cours...";return{c(){e=b("div"),n=S(a[1]),s=E(),t=b("div"),t.textContent=r,this.h()},l(l){e=x(l,"DIV",{class:!0,role:!0});var i=y(e);n=F(i,a[1]),s=C(i),t=x(i,"DIV",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-18pvr44"&&(t.textContent=r),i.forEach(p),this.h()},h(){v(t,"class","loading-indicator svelte-1x41krk"),v(e,"class","message success svelte-1x41krk"),v(e,"role","alert")},m(l,i){M(l,e,i),k(e,n),k(e,s),k(e,t)},p(l,i){i&2&&G(n,l[1])},d(l){l&&p(e)}}}function z(a){let e,n;return{c(){e=b("div"),n=S(a[2]),this.h()},l(s){e=x(s,"DIV",{class:!0,role:!0});var t=y(e);n=F(t,a[2]),t.forEach(p),this.h()},h(){v(e,"class","message error svelte-1x41krk"),v(e,"role","alert")},m(s,t){M(s,e,t),k(e,n)},p(s,t){t&4&&G(n,s[2])},d(s){s&&p(e)}}}function Z(a){let e,n,s,t,r,l;const i=[Y,X],c=[];function h(o,m){return o[0]?0:1}return t=h(a),r=c[t]=i[t](a),{c(){e=b("meta"),n=E(),s=b("main"),r.c(),this.h()},l(o){const m=$("svelte-mif03e",document.head);e=x(m,"META",{name:!0,content:!0}),m.forEach(p),n=C(o),s=x(o,"MAIN",{class:!0});var g=y(s);r.l(g),g.forEach(p),this.h()},h(){document.title="Connexion - FunLearning",v(e,"name","description"),v(e,"content","Connectez-vous √† FunLearning avec votre compte Google"),v(s,"class","login-container svelte-1x41krk")},m(o,m){k(document.head,e),M(o,n,m),M(o,s,m),c[t].m(s,null),l=!0},p(o,[m]){let g=t;t=h(o),t===g?c[t].p(o,m):(P(),I(c[g],1,1,()=>{c[g]=null}),O(),r=c[t],r?r.p(o,m):(r=c[t]=i[t](o),r.c()),D(r,1),r.m(s,null))},i(o){l||(D(r),l=!0)},o(o){I(r),l=!1},d(o){o&&(p(n),p(s)),p(e),c[t].d()}}}function ee(a,e,n){let s;w(a,W,h=>n(5,s=h));let t=!1,r="",l="";q(()=>{n(0,t=!0),console.log("‚úÖ Page de connexion charg√©e"),s&&L("/dashboard")});function i(h){var o,m;console.log("üéâ Succ√®s d'authentification:",h.detail),n(1,r=`Bienvenue ${((o=h.detail.user)==null?void 0:o.displayName)||((m=h.detail.user)==null?void 0:m.email)||""}!`),n(2,l=""),setTimeout(()=>{L("/dashboard")},1e3)}function c(h){console.error("‚ùå Erreur d'authentification:",h.detail),n(2,l=h.detail.error||"Erreur inconnue"),n(1,r="")}return a.$$.update=()=>{a.$$.dirty&33&&t&&s&&L("/dashboard")},[t,r,l,i,c,s]}class ae extends B{constructor(e){super(),N(this,e,ee,Z,R,{})}}export{ae as component};
