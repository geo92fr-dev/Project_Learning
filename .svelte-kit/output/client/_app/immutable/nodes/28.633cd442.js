import{s as Me,a as C,f as n,l as P,A as we,d as u,c as E,g as r,h as _,B as K,m as H,j as v,i as oe,x as e,C as Re,n as Q,y as ge,z as qe,o as ze,D as X,N as Ge}from"../chunks/scheduler.9ed29267.js";import{e as Fe}from"../chunks/each.287b3127.js";import{S as Ue,i as je}from"../chunks/index.c5ac0418.js";import{b as Be}from"../chunks/environment.60829b93.js";import{getFirebaseStatus as Je,testFirebaseConnection as Ke}from"../chunks/test-connection-new.583f48c2.js";import{i as Qe,a as We}from"../chunks/auth.6566adde.js";function Ve(i,t,s){const l=i.slice();return l[6]=t[s],l}function Xe(i){let t,s="Chargement du statut Firebase...";return{c(){t=n("p"),t.textContent=s},l(l){t=r(l,"P",{"data-svelte-h":!0}),K(t)!=="svelte-1seawyx"&&(t.textContent=s)},m(l,d){oe(l,t,d)},p:ge,d(l){l&&u(t)}}}function Ye(i){let t,s,l,d=i[2].app?"✅":"❌",o,p,a,c,h=i[2].app?"Initialisé":"Non initialisé",f,L,A,O,R=i[2].auth?"✅":"❌",j,B,I,S,q=i[2].auth?"Actif":"Inactif",U,M,D,g,b=i[2].firestore?"✅":"❌",y,z,G,Y,J=i[2].firestore?"Connecté":"Déconnecté",w;return{c(){t=n("div"),s=n("div"),l=n("span"),o=P(d),p=C(),a=n("span"),c=P("Firebase App: "),f=P(h),L=C(),A=n("div"),O=n("span"),j=P(R),B=C(),I=n("span"),S=P("Firebase Auth: "),U=P(q),M=C(),D=n("div"),g=n("span"),y=P(b),z=C(),G=n("span"),Y=P("Firestore: "),w=P(J),this.h()},l(k){t=r(k,"DIV",{class:!0});var N=_(t);s=r(N,"DIV",{class:!0});var $=_(s);l=r($,"SPAN",{class:!0});var F=_(l);o=H(F,d),F.forEach(u),p=E($),a=r($,"SPAN",{});var T=_(a);c=H(T,"Firebase App: "),f=H(T,h),T.forEach(u),$.forEach(u),L=E(N),A=r(N,"DIV",{class:!0});var m=_(A);O=r(m,"SPAN",{class:!0});var ae=_(O);j=H(ae,R),ae.forEach(u),B=E(m),I=r(m,"SPAN",{});var ne=_(I);S=H(ne,"Firebase Auth: "),U=H(ne,q),ne.forEach(u),m.forEach(u),M=E(N),D=r(N,"DIV",{class:!0});var Z=_(D);g=r(Z,"SPAN",{class:!0});var re=_(g);y=H(re,b),re.forEach(u),z=E(Z),G=r(Z,"SPAN",{});var x=_(G);Y=H(x,"Firestore: "),w=H(x,J),x.forEach(u),Z.forEach(u),N.forEach(u),this.h()},h(){v(l,"class","icon svelte-ld2yd"),v(s,"class","status-item svelte-ld2yd"),X(s,"success",i[2].app),v(O,"class","icon svelte-ld2yd"),v(A,"class","status-item svelte-ld2yd"),X(A,"success",i[2].auth),v(g,"class","icon svelte-ld2yd"),v(D,"class","status-item svelte-ld2yd"),X(D,"success",i[2].firestore),v(t,"class","status-grid svelte-ld2yd")},m(k,N){oe(k,t,N),e(t,s),e(s,l),e(l,o),e(s,p),e(s,a),e(a,c),e(a,f),e(t,L),e(t,A),e(A,O),e(O,j),e(A,B),e(A,I),e(I,S),e(I,U),e(t,M),e(t,D),e(D,g),e(g,y),e(D,z),e(D,G),e(G,Y),e(G,w)},p(k,N){N&4&&d!==(d=k[2].app?"✅":"❌")&&Q(o,d),N&4&&h!==(h=k[2].app?"Initialisé":"Non initialisé")&&Q(f,h),N&4&&X(s,"success",k[2].app),N&4&&R!==(R=k[2].auth?"✅":"❌")&&Q(j,R),N&4&&q!==(q=k[2].auth?"Actif":"Inactif")&&Q(U,q),N&4&&X(A,"success",k[2].auth),N&4&&b!==(b=k[2].firestore?"✅":"❌")&&Q(y,b),N&4&&J!==(J=k[2].firestore?"Connecté":"Déconnecté")&&Q(w,J),N&4&&X(D,"success",k[2].firestore)},d(k){k&&u(t)}}}function Ze(i){let t,s="Chargement de l'état d'authentification...";return{c(){t=n("p"),t.textContent=s},l(l){t=r(l,"P",{"data-svelte-h":!0}),K(t)!=="svelte-1w6066q"&&(t.textContent=s)},m(l,d){oe(l,t,d)},p:ge,d(l){l&&u(t)}}}function $e(i){let t,s,l,d="Chargement:",o,p=i[4].loading?"Oui":"Non",a,c,h,f,L="Authentifié:",A,O=i[4].user?"Oui":"Non",R,j,B,I,S="Utilisateur:",q,U=(i[4].user?i[4].user.email||"Anonyme":"Aucun")+"",M,D,g=i[4].error&&Pe(i);return{c(){t=n("div"),s=n("div"),l=n("strong"),l.textContent=d,o=C(),a=P(p),c=C(),h=n("div"),f=n("strong"),f.textContent=L,A=C(),R=P(O),j=C(),B=n("div"),I=n("strong"),I.textContent=S,q=C(),M=P(U),D=C(),g&&g.c(),this.h()},l(b){t=r(b,"DIV",{class:!0});var y=_(t);s=r(y,"DIV",{class:!0});var z=_(s);l=r(z,"STRONG",{"data-svelte-h":!0}),K(l)!=="svelte-1twhmmo"&&(l.textContent=d),o=E(z),a=H(z,p),z.forEach(u),c=E(y),h=r(y,"DIV",{class:!0});var G=_(h);f=r(G,"STRONG",{"data-svelte-h":!0}),K(f)!=="svelte-3xsi40"&&(f.textContent=L),A=E(G),R=H(G,O),G.forEach(u),j=E(y),B=r(y,"DIV",{class:!0});var Y=_(B);I=r(Y,"STRONG",{"data-svelte-h":!0}),K(I)!=="svelte-1ozvas3"&&(I.textContent=S),q=E(Y),M=H(Y,U),Y.forEach(u),D=E(y),g&&g.l(y),y.forEach(u),this.h()},h(){v(s,"class","info-item svelte-ld2yd"),v(h,"class","info-item svelte-ld2yd"),v(B,"class","info-item svelte-ld2yd"),v(t,"class","auth-info svelte-ld2yd")},m(b,y){oe(b,t,y),e(t,s),e(s,l),e(s,o),e(s,a),e(t,c),e(t,h),e(h,f),e(h,A),e(h,R),e(t,j),e(t,B),e(B,I),e(B,q),e(B,M),e(t,D),g&&g.m(t,null)},p(b,y){y&16&&p!==(p=b[4].loading?"Oui":"Non")&&Q(a,p),y&16&&O!==(O=b[4].user?"Oui":"Non")&&Q(R,O),y&16&&U!==(U=(b[4].user?b[4].user.email||"Anonyme":"Aucun")+"")&&Q(M,U),b[4].error?g?g.p(b,y):(g=Pe(b),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(b){b&&u(t),g&&g.d()}}}function Pe(i){let t,s,l="Erreur:",d,o=i[4].error+"",p;return{c(){t=n("div"),s=n("strong"),s.textContent=l,d=C(),p=P(o),this.h()},l(a){t=r(a,"DIV",{class:!0});var c=_(t);s=r(c,"STRONG",{"data-svelte-h":!0}),K(s)!=="svelte-r6p0y9"&&(s.textContent=l),d=E(c),p=H(c,o),c.forEach(u),this.h()},h(){v(t,"class","info-item error svelte-ld2yd")},m(a,c){oe(a,t,c),e(t,s),e(t,d),e(t,p)},p(a,c){c&16&&o!==(o=a[4].error+"")&&Q(p,o)},d(a){a&&u(t)}}}function He(i){let t,s,l="📋 Résultats",d,o,p,a=i[0].success?"✅":"❌",c,h,f,L=i[0].success?"Tous les tests réussis":"Certains tests ont échoué",A,O,R,j,B="Détails des tests:",I,S,q,U=i[0].results.auth?"✅":"❌",M,D,g,b,y=i[0].results.firestore?"✅":"❌",z,G,Y,J,w=i[0].results.anonymousAuth?"✅":"❌",k,N,$,F=i[0].errors.length>0&&Le(i);return{c(){t=n("div"),s=n("h3"),s.textContent=l,d=C(),o=n("div"),p=n("span"),c=P(a),h=C(),f=n("span"),A=P(L),O=C(),R=n("div"),j=n("h4"),j.textContent=B,I=C(),S=n("ul"),q=n("li"),M=P(U),D=P(" Firebase Auth"),g=C(),b=n("li"),z=P(y),G=P(" Firestore"),Y=C(),J=n("li"),k=P(w),N=P(" Authentification anonyme"),$=C(),F&&F.c(),this.h()},l(T){t=r(T,"DIV",{class:!0});var m=_(t);s=r(m,"H3",{"data-svelte-h":!0}),K(s)!=="svelte-20pnsl"&&(s.textContent=l),d=E(m),o=r(m,"DIV",{class:!0});var ae=_(o);p=r(ae,"SPAN",{class:!0});var ne=_(p);c=H(ne,a),ne.forEach(u),h=E(ae),f=r(ae,"SPAN",{});var Z=_(f);A=H(Z,L),Z.forEach(u),ae.forEach(u),O=E(m),R=r(m,"DIV",{class:!0});var re=_(R);j=r(re,"H4",{"data-svelte-h":!0}),K(j)!=="svelte-zraf91"&&(j.textContent=B),I=E(re),S=r(re,"UL",{class:!0});var x=_(S);q=r(x,"LI",{class:!0});var te=_(q);M=H(te,U),D=H(te," Firebase Auth"),te.forEach(u),g=E(x),b=r(x,"LI",{class:!0});var fe=_(b);z=H(fe,y),G=H(fe," Firestore"),fe.forEach(u),Y=E(x),J=r(x,"LI",{class:!0});var ue=_(J);k=H(ue,w),N=H(ue," Authentification anonyme"),ue.forEach(u),x.forEach(u),re.forEach(u),$=E(m),F&&F.l(m),m.forEach(u),this.h()},h(){v(p,"class","icon svelte-ld2yd"),v(o,"class","result-summary svelte-ld2yd"),X(o,"success",i[0].success),X(o,"error",!i[0].success),v(q,"class","svelte-ld2yd"),X(q,"success",i[0].results.auth),v(b,"class","svelte-ld2yd"),X(b,"success",i[0].results.firestore),v(J,"class","svelte-ld2yd"),X(J,"success",i[0].results.anonymousAuth),v(S,"class","svelte-ld2yd"),v(R,"class","test-details svelte-ld2yd"),v(t,"class","test-results svelte-ld2yd")},m(T,m){oe(T,t,m),e(t,s),e(t,d),e(t,o),e(o,p),e(p,c),e(o,h),e(o,f),e(f,A),e(t,O),e(t,R),e(R,j),e(R,I),e(R,S),e(S,q),e(q,M),e(q,D),e(S,g),e(S,b),e(b,z),e(b,G),e(S,Y),e(S,J),e(J,k),e(J,N),e(t,$),F&&F.m(t,null)},p(T,m){m&1&&a!==(a=T[0].success?"✅":"❌")&&Q(c,a),m&1&&L!==(L=T[0].success?"Tous les tests réussis":"Certains tests ont échoué")&&Q(A,L),m&1&&X(o,"success",T[0].success),m&1&&X(o,"error",!T[0].success),m&1&&U!==(U=T[0].results.auth?"✅":"❌")&&Q(M,U),m&1&&X(q,"success",T[0].results.auth),m&1&&y!==(y=T[0].results.firestore?"✅":"❌")&&Q(z,y),m&1&&X(b,"success",T[0].results.firestore),m&1&&w!==(w=T[0].results.anonymousAuth?"✅":"❌")&&Q(k,w),m&1&&X(J,"success",T[0].results.anonymousAuth),T[0].errors.length>0?F?F.p(T,m):(F=Le(T),F.c(),F.m(t,null)):F&&(F.d(1),F=null)},d(T){T&&u(t),F&&F.d()}}}function Le(i){let t,s,l="❌ Erreurs détectées:",d,o,p=Fe(i[0].errors),a=[];for(let c=0;c<p.length;c+=1)a[c]=Oe(Ve(i,p,c));return{c(){t=n("div"),s=n("h4"),s.textContent=l,d=C(),o=n("ul");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){t=r(c,"DIV",{class:!0});var h=_(t);s=r(h,"H4",{"data-svelte-h":!0}),K(s)!=="svelte-ol3azc"&&(s.textContent=l),d=E(h),o=r(h,"UL",{class:!0});var f=_(o);for(let L=0;L<a.length;L+=1)a[L].l(f);f.forEach(u),h.forEach(u),this.h()},h(){v(o,"class","svelte-ld2yd"),v(t,"class","error-list svelte-ld2yd")},m(c,h){oe(c,t,h),e(t,s),e(t,d),e(t,o);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(o,null)},p(c,h){if(h&1){p=Fe(c[0].errors);let f;for(f=0;f<p.length;f+=1){const L=Ve(c,p,f);a[f]?a[f].p(L,h):(a[f]=Oe(L),a[f].c(),a[f].m(o,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=p.length}},d(c){c&&u(t),Ge(a,c)}}}function Oe(i){let t,s=i[6]+"",l;return{c(){t=n("li"),l=P(s),this.h()},l(d){t=r(d,"LI",{class:!0});var o=_(t);l=H(o,s),o.forEach(u),this.h()},h(){v(t,"class","error svelte-ld2yd")},m(d,o){oe(d,t,o),e(t,l)},p(d,o){o&1&&s!==(s=d[6]+"")&&Q(l,s)},d(d){d&&u(t)}}}function xe(i){var Te;let t,s,l,d,o='<h1 class="svelte-ld2yd">🔧 Test Firebase - Phase 2</h1> <p>Validation de l&#39;intégration Firebase Auth + Firestore</p>',p,a,c,h="📊 Statut Firebase",f,L,A,O,R="🔐 État Authentification",j,B,I,S,q="🧪 Test de Connexion",U,M,D=i[1]?"⏳ Test en cours...":"🚀 Lancer le test",g,b,y,z,G,Y="📋 Phase 2 - Prochaines étapes",J,w,k,N,$=(Te=i[0])!=null&&Te.success?"✅":"⏳",F,T,m,ae="Configuration Firebase fonctionnelle",ne,Z,re='<span class="check">⏳</span> <span>Interface d&#39;authentification (login/register)</span>',x,te,fe='<span class="check">⏳</span> <span>Protection des routes</span>',ue,de,Ae='<span class="check">⏳</span> <span>Tests complets Phase 2</span>',ye,Ie;function ke(V,ee){return V[2]?Ye:Xe}let _e=ke(i),se=_e(i);function Ne(V,ee){return V[3]&&Be?$e:Ze}let pe=Ne(i),le=pe(i),W=i[0]&&He(i);return{c(){t=C(),s=n("main"),l=n("div"),d=n("header"),d.innerHTML=o,p=C(),a=n("section"),c=n("h2"),c.textContent=h,f=C(),se.c(),L=C(),A=n("section"),O=n("h2"),O.textContent=R,j=C(),le.c(),B=C(),I=n("section"),S=n("h2"),S.textContent=q,U=C(),M=n("button"),g=P(D),b=C(),W&&W.c(),y=C(),z=n("section"),G=n("h2"),G.textContent=Y,J=C(),w=n("div"),k=n("div"),N=n("span"),F=P($),T=C(),m=n("span"),m.textContent=ae,ne=C(),Z=n("div"),Z.innerHTML=re,x=C(),te=n("div"),te.innerHTML=fe,ue=C(),de=n("div"),de.innerHTML=Ae,this.h()},l(V){we("svelte-vrn01m",document.head).forEach(u),t=E(V),s=r(V,"MAIN",{class:!0});var ve=_(s);l=r(ve,"DIV",{class:!0});var ie=_(l);d=r(ie,"HEADER",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-rq966z"&&(d.innerHTML=o),p=E(ie),a=r(ie,"SECTION",{class:!0});var me=_(a);c=r(me,"H2",{"data-svelte-h":!0}),K(c)!=="svelte-1a25v39"&&(c.textContent=h),f=E(me),se.l(me),me.forEach(u),L=E(ie),A=r(ie,"SECTION",{class:!0});var Ce=_(A);O=r(Ce,"H2",{"data-svelte-h":!0}),K(O)!=="svelte-1483p26"&&(O.textContent=R),j=E(Ce),le.l(Ce),Ce.forEach(u),B=E(ie),I=r(ie,"SECTION",{class:!0});var he=_(I);S=r(he,"H2",{"data-svelte-h":!0}),K(S)!=="svelte-1mew3r2"&&(S.textContent=q),U=E(he),M=r(he,"BUTTON",{class:!0});var Se=_(M);g=H(Se,D),Se.forEach(u),b=E(he),W&&W.l(he),he.forEach(u),y=E(ie),z=r(ie,"SECTION",{class:!0});var Ee=_(z);G=r(Ee,"H2",{"data-svelte-h":!0}),K(G)!=="svelte-1150jng"&&(G.textContent=Y),J=E(Ee),w=r(Ee,"DIV",{class:!0});var ce=_(w);k=r(ce,"DIV",{class:!0});var be=_(k);N=r(be,"SPAN",{class:!0});var De=_(N);F=H(De,$),De.forEach(u),T=E(be),m=r(be,"SPAN",{"data-svelte-h":!0}),K(m)!=="svelte-ypiv0r"&&(m.textContent=ae),be.forEach(u),ne=E(ce),Z=r(ce,"DIV",{class:!0,"data-svelte-h":!0}),K(Z)!=="svelte-ft2b6i"&&(Z.innerHTML=re),x=E(ce),te=r(ce,"DIV",{class:!0,"data-svelte-h":!0}),K(te)!=="svelte-1q0mhw8"&&(te.innerHTML=fe),ue=E(ce),de=r(ce,"DIV",{class:!0,"data-svelte-h":!0}),K(de)!=="svelte-1qr5m1a"&&(de.innerHTML=Ae),ce.forEach(u),Ee.forEach(u),ie.forEach(u),ve.forEach(u),this.h()},h(){document.title="Test Firebase - Phase 2",v(d,"class","svelte-ld2yd"),v(a,"class","status-section svelte-ld2yd"),v(A,"class","auth-section svelte-ld2yd"),v(M,"class","test-btn svelte-ld2yd"),M.disabled=i[1],v(I,"class","test-section svelte-ld2yd"),v(N,"class","check"),v(k,"class","check-item svelte-ld2yd"),v(Z,"class","check-item svelte-ld2yd"),v(te,"class","check-item svelte-ld2yd"),v(de,"class","check-item svelte-ld2yd"),v(w,"class","checklist svelte-ld2yd"),v(z,"class","instructions svelte-ld2yd"),v(l,"class","test-card svelte-ld2yd"),v(s,"class","test-container svelte-ld2yd")},m(V,ee){oe(V,t,ee),oe(V,s,ee),e(s,l),e(l,d),e(l,p),e(l,a),e(a,c),e(a,f),se.m(a,null),e(l,L),e(l,A),e(A,O),e(A,j),le.m(A,null),e(l,B),e(l,I),e(I,S),e(I,U),e(I,M),e(M,g),e(I,b),W&&W.m(I,null),e(l,y),e(l,z),e(z,G),e(z,J),e(z,w),e(w,k),e(k,N),e(N,F),e(k,T),e(k,m),e(w,ne),e(w,Z),e(w,x),e(w,te),e(w,ue),e(w,de),ye||(Ie=Re(M,"click",i[5]),ye=!0)},p(V,[ee]){var ve;_e===(_e=ke(V))&&se?se.p(V,ee):(se.d(1),se=_e(V),se&&(se.c(),se.m(a,null))),pe===(pe=Ne(V))&&le?le.p(V,ee):(le.d(1),le=pe(V),le&&(le.c(),le.m(A,null))),ee&2&&D!==(D=V[1]?"⏳ Test en cours...":"🚀 Lancer le test")&&Q(g,D),ee&2&&(M.disabled=V[1]),V[0]?W?W.p(V,ee):(W=He(V),W.c(),W.m(I,null)):W&&(W.d(1),W=null),ee&1&&$!==($=(ve=V[0])!=null&&ve.success?"✅":"⏳")&&Q(F,$)},i:ge,o:ge,d(V){V&&(u(t),u(s)),se.d(),le.d(),W&&W.d(),ye=!1,Ie()}}}function et(i,t,s){let l;qe(i,We,h=>s(4,l=h));let d=null,o=!1,p=null,a=!1;ze(async()=>{s(3,a=!0),await Qe(),s(2,p=Je())});async function c(){s(1,o=!0);try{s(0,d=await Ke()),console.log("🔧 Résultats test Firebase:",d)}catch(h){console.error("❌ Erreur test Firebase:",h),s(0,d={success:!1,results:{auth:!1,firestore:!1,anonymousAuth:!1},errors:[`Erreur critique: ${(h==null?void 0:h.message)||"Erreur inconnue"}`]})}s(1,o=!1)}return[d,o,p,a,l,c]}class it extends Ue{constructor(t){super(),je(this,t,et,xe,Me,{})}}export{it as component};
