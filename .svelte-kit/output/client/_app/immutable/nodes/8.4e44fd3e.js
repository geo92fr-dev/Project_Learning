import{s as R,f as b,a as x,A as $,g as k,d as _,c as E,h as M,j as v,x as g,i as C,z as q,o as w,B as T,y as A,l as S,m as F,n as G}from"../chunks/scheduler.8dd50edf.js";import{S as B,i as N,t as I,c as O,a as D,g as P,b as j,d as U,m as J,e as K}from"../chunks/index.af76732a.js";import{g as L}from"../chunks/navigation.1081ecf5.js";import{G as Q}from"../chunks/GoogleAuth.6ac148d5.js";import{i as W}from"../chunks/googleAuth.03c8b086.js";function X(l){let e,n='<div class="spinner svelte-ngxpy4"></div> <p>Chargement...</p>';return{c(){e=b("div"),e.innerHTML=n,this.h()},l(s){e=k(s,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-qc7skv"&&(e.innerHTML=n),this.h()},h(){v(e,"class","loading-container svelte-ngxpy4")},m(s,t){C(s,e,t)},p:A,i:A,o:A,d(s){s&&_(e)}}}function Y(l){let e,n,s='<h1 class="svelte-ngxpy4">üîê Connexion FunLearning</h1> <p class="svelte-ngxpy4">Connectez-vous pour acc√©der √† votre espace d&#39;apprentissage</p>',t,a,r,i,c,h,o,p='<p>En vous connectant, vous acceptez nos conditions d&#39;utilisation.</p> <a href="/" class="svelte-ngxpy4">‚Üê Retour √† l&#39;accueil</a>',y,u=l[1]&&z(l),d=l[2]&&V(l);return c=new Q({props:{buttonText:"Se connecter avec Google",size:"large",showUserInfo:!1}}),c.$on("success",l[3]),c.$on("error",l[4]),{c(){e=b("div"),n=b("header"),n.innerHTML=s,t=x(),u&&u.c(),a=x(),d&&d.c(),r=x(),i=b("div"),j(c.$$.fragment),h=x(),o=b("footer"),o.innerHTML=p,this.h()},l(f){e=k(f,"DIV",{class:!0});var m=M(e);n=k(m,"HEADER",{class:!0,"data-svelte-h":!0}),T(n)!=="svelte-aky6wf"&&(n.innerHTML=s),t=E(m),u&&u.l(m),a=E(m),d&&d.l(m),r=E(m),i=k(m,"DIV",{class:!0});var H=M(i);U(c.$$.fragment,H),H.forEach(_),h=E(m),o=k(m,"FOOTER",{class:!0,"data-svelte-h":!0}),T(o)!=="svelte-1n970uq"&&(o.innerHTML=p),m.forEach(_),this.h()},h(){v(n,"class","login-header svelte-ngxpy4"),v(i,"class","auth-section svelte-ngxpy4"),v(o,"class","login-footer svelte-ngxpy4"),v(e,"class","login-card svelte-ngxpy4")},m(f,m){C(f,e,m),g(e,n),g(e,t),u&&u.m(e,null),g(e,a),d&&d.m(e,null),g(e,r),g(e,i),J(c,i,null),g(e,h),g(e,o),y=!0},p(f,m){f[1]?u?u.p(f,m):(u=z(f),u.c(),u.m(e,a)):u&&(u.d(1),u=null),f[2]?d?d.p(f,m):(d=V(f),d.c(),d.m(e,r)):d&&(d.d(1),d=null)},i(f){y||(D(c.$$.fragment,f),y=!0)},o(f){I(c.$$.fragment,f),y=!1},d(f){f&&_(e),u&&u.d(),d&&d.d(),K(c)}}}function z(l){let e,n,s,t,a="Redirection en cours...";return{c(){e=b("div"),n=S(l[1]),s=x(),t=b("div"),t.textContent=a,this.h()},l(r){e=k(r,"DIV",{class:!0,role:!0});var i=M(e);n=F(i,l[1]),s=E(i),t=k(i,"DIV",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-18pvr44"&&(t.textContent=a),i.forEach(_),this.h()},h(){v(t,"class","loading-indicator svelte-ngxpy4"),v(e,"class","message success svelte-ngxpy4"),v(e,"role","alert")},m(r,i){C(r,e,i),g(e,n),g(e,s),g(e,t)},p(r,i){i&2&&G(n,r[1])},d(r){r&&_(e)}}}function V(l){let e,n;return{c(){e=b("div"),n=S(l[2]),this.h()},l(s){e=k(s,"DIV",{class:!0,role:!0});var t=M(e);n=F(t,l[2]),t.forEach(_),this.h()},h(){v(e,"class","message error svelte-ngxpy4"),v(e,"role","alert")},m(s,t){C(s,e,t),g(e,n)},p(s,t){t&4&&G(n,s[2])},d(s){s&&_(e)}}}function Z(l){let e,n,s,t,a,r;const i=[Y,X],c=[];function h(o,p){return o[0]?0:1}return t=h(l),a=c[t]=i[t](l),{c(){e=b("meta"),n=x(),s=b("main"),a.c(),this.h()},l(o){const p=$("svelte-1k6z8d8",document.head);e=k(p,"META",{name:!0,content:!0}),p.forEach(_),n=E(o),s=k(o,"MAIN",{class:!0});var y=M(s);a.l(y),y.forEach(_),this.h()},h(){document.title="Connexion - FunLearning",v(e,"name","description"),v(e,"content","Connectez-vous √† FunLearning avec votre compte Google"),v(s,"class","login-container svelte-ngxpy4")},m(o,p){g(document.head,e),C(o,n,p),C(o,s,p),c[t].m(s,null),r=!0},p(o,[p]){let y=t;t=h(o),t===y?c[t].p(o,p):(P(),I(c[y],1,1,()=>{c[y]=null}),O(),a=c[t],a?a.p(o,p):(a=c[t]=i[t](o),a.c()),D(a,1),a.m(s,null))},i(o){r||(D(a),r=!0)},o(o){I(a),r=!1},d(o){o&&(_(n),_(s)),_(e),c[t].d()}}}function ee(l,e,n){let s;q(l,W,h=>n(5,s=h));let t=!1,a="",r="";w(()=>{n(0,t=!0),console.log("‚úÖ Page de connexion charg√©e"),s&&L("/dashboard")});function i(h){var o,p;console.log("üéâ Succ√®s d'authentification:",h.detail),n(1,a=`Bienvenue ${((o=h.detail.user)==null?void 0:o.displayName)||((p=h.detail.user)==null?void 0:p.email)||""}!`),n(2,r=""),setTimeout(()=>{L("/dashboard")},1e3)}function c(h){console.error("‚ùå Erreur d'authentification:",h.detail),n(2,r=h.detail.error||"Erreur inconnue"),n(1,a="")}return l.$$.update=()=>{l.$$.dirty&33&&t&&s&&L("/dashboard")},[t,a,r,i,c,s]}class le extends B{constructor(e){super(),N(this,e,ee,Z,R,{})}}export{le as component};
