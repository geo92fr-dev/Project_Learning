import{s as W,f as _,a as y,g as m,h as b,B as z,c as q,d,j as c,i as E,x as f,C as J,y as L,z as K,D as Y,l as Z,m as ee,n as te,E as V,F as w,A as se,o as ne}from"../chunks/scheduler.f22d9642.js";import{S as Q,i as X,t as F,c as le,a as $,g as oe,b as re,d as ae,m as ie,e as ce}from"../chunks/index.ff65e33c.js";import{a as G,G as ue,s as de,b as ve,g as fe}from"../chunks/navigation.8ae5150f.js";function U(a){let e,s,t="‚ö†Ô∏è",l,n,v,u,o,h="‚úï",r,i;return{c(){e=_("div"),s=_("span"),s.textContent=t,l=y(),n=_("span"),v=Z(a[1]),u=y(),o=_("button"),o.textContent=h,this.h()},l(p){e=m(p,"DIV",{class:!0,role:!0});var x=b(e);s=m(x,"SPAN",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-afr8fm"&&(s.textContent=t),l=q(x),n=m(x,"SPAN",{class:!0});var C=b(n);v=ee(C,a[1]),C.forEach(d),u=q(x),o=m(x,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),z(o)!=="svelte-qwqw7v"&&(o.textContent=h),x.forEach(d),this.h()},h(){c(s,"class","error-icon svelte-xkks7q"),c(n,"class","error-text svelte-xkks7q"),c(o,"class","error-close svelte-xkks7q"),c(o,"aria-label","Fermer l'erreur"),c(e,"class","error-banner svelte-xkks7q"),c(e,"role","alert")},m(p,x){E(p,e,x),f(e,s),f(e,l),f(e,n),f(n,v),f(e,u),f(e,o),r||(i=J(o,"click",a[5]),r=!0)},p(p,x){x&2&&te(v,p[1])},d(p){p&&d(e),r=!1,i()}}}function he(a){let e,s,t,l,n,v,u,o="Continuer avec Google";return{c(){e=V("svg"),s=V("path"),t=V("path"),l=V("path"),n=V("path"),v=y(),u=_("span"),u.textContent=o,this.h()},l(h){e=w(h,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var r=b(e);s=w(r,"path",{fill:!0,d:!0}),b(s).forEach(d),t=w(r,"path",{fill:!0,d:!0}),b(t).forEach(d),l=w(r,"path",{fill:!0,d:!0}),b(l).forEach(d),n=w(r,"path",{fill:!0,d:!0}),b(n).forEach(d),r.forEach(d),v=q(h),u=m(h,"SPAN",{"data-svelte-h":!0}),z(u)!=="svelte-609lzv"&&(u.textContent=o),this.h()},h(){c(s,"fill","#4285F4"),c(s,"d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"),c(t,"fill","#34A853"),c(t,"d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"),c(l,"fill","#FBBC05"),c(l,"d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"),c(n,"fill","#EA4335"),c(n,"d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"),c(e,"class","google-icon svelte-xkks7q"),c(e,"viewBox","0 0 24 24"),c(e,"width","20"),c(e,"height","20")},m(h,r){E(h,e,r),f(e,s),f(e,t),f(e,l),f(e,n),E(h,v,r),E(h,u,r)},d(h){h&&(d(e),d(v),d(u))}}}function pe(a){let e,s,t,l="Connexion...";return{c(){e=_("div"),s=y(),t=_("span"),t.textContent=l,this.h()},l(n){e=m(n,"DIV",{class:!0}),b(e).forEach(d),s=q(n),t=m(n,"SPAN",{"data-svelte-h":!0}),z(t)!=="svelte-q6z47h"&&(t.textContent=l),this.h()},h(){c(e,"class","loading-spinner svelte-xkks7q")},m(n,v){E(n,e,v),E(n,s,v),E(n,t,v)},d(n){n&&(d(e),d(s),d(t))}}}function _e(a){let e,s,t,l='<h1 class="svelte-xkks7q">üéì FunLearning</h1> <p class="svelte-xkks7q">Connectez-vous pour acc√©der √† vos cours</p>',n,v,u,o,h,r,i,p='<span class="svelte-xkks7q">ou</span>',x,C,P=`<p class="demo-text svelte-xkks7q"><span class="demo-icon svelte-xkks7q">üí°</span>
          Version de d√©monstration - Utilisez Google pour vous connecter</p>`,j,I,B='<p class="svelte-xkks7q">En vous connectant, vous acceptez nos conditions d&#39;utilisation</p>',A,N,g=a[1]&&U(a);function O(k,T){return k[0]?pe:he}let D=O(a),M=D(a);return{c(){e=_("div"),s=_("div"),t=_("header"),t.innerHTML=l,n=y(),g&&g.c(),v=y(),u=_("div"),o=_("button"),M.c(),r=y(),i=_("div"),i.innerHTML=p,x=y(),C=_("div"),C.innerHTML=P,j=y(),I=_("footer"),I.innerHTML=B,this.h()},l(k){e=m(k,"DIV",{class:!0});var T=b(e);s=m(T,"DIV",{class:!0});var H=b(s);t=m(H,"HEADER",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-13f4u1y"&&(t.innerHTML=l),n=q(H),g&&g.l(H),v=q(H),u=m(H,"DIV",{class:!0});var S=b(u);o=m(S,"BUTTON",{class:!0,"aria-label":!0});var R=b(o);M.l(R),R.forEach(d),r=q(S),i=m(S,"DIV",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-syixc1"&&(i.innerHTML=p),x=q(S),C=m(S,"DIV",{class:!0,"data-svelte-h":!0}),z(C)!=="svelte-loqurw"&&(C.innerHTML=P),S.forEach(d),j=q(H),I=m(H,"FOOTER",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-vfff1o"&&(I.innerHTML=B),H.forEach(d),T.forEach(d),this.h()},h(){c(t,"class","login-header svelte-xkks7q"),c(o,"class","google-button svelte-xkks7q"),o.disabled=h=a[0]||a[2],c(o,"aria-label","Se connecter avec Google"),c(i,"class","login-divider svelte-xkks7q"),c(C,"class","demo-info svelte-xkks7q"),c(u,"class","login-form svelte-xkks7q"),c(I,"class","login-footer svelte-xkks7q"),c(s,"class","login-card svelte-xkks7q"),c(e,"class","login-container svelte-xkks7q")},m(k,T){E(k,e,T),f(e,s),f(s,t),f(s,n),g&&g.m(s,null),f(s,v),f(s,u),f(u,o),M.m(o,null),f(u,r),f(u,i),f(u,x),f(u,C),f(s,j),f(s,I),A||(N=J(o,"click",a[3]),A=!0)},p(k,[T]){k[1]?g?g.p(k,T):(g=U(k),g.c(),g.m(s,v)):g&&(g.d(1),g=null),D!==(D=O(k))&&(M.d(1),M=D(k),M&&(M.c(),M.m(o,null))),T&5&&h!==(h=k[0]||k[2])&&(o.disabled=h)},i:L,o:L,d(k){k&&d(e),g&&g.d(),M.d(),A=!1,N()}}}function me(a){return{"auth/popup-closed-by-user":"Connexion annul√©e","auth/popup-blocked":"Popup bloqu√©e. Veuillez autoriser les popups.","auth/network-request-failed":"Erreur r√©seau. V√©rifiez votre connexion.","auth/too-many-requests":"Trop de tentatives. R√©essayez plus tard.","auth/user-disabled":"Compte d√©sactiv√©. Contactez le support.","auth/operation-not-allowed":"Connexion Google non activ√©e."}[a]||"Erreur de connexion inattendue"}function ge(a,e,s){let t,l,n;K(a,G,i=>s(4,n=i));const v=Y();let u=!1,o="";async function h(){try{s(0,u=!0),s(1,o="");const i=new ue;i.addScope("email"),i.addScope("profile");const p=await de(ve,i);v("success",{user:p.user,message:"Connexion r√©ussie !"})}catch(i){const p=i instanceof Error?i.message:"Erreur de connexion";s(1,o=me(p)),console.error("Erreur connexion Google:",i),v("error",{error:p,code:i==null?void 0:i.code})}finally{s(0,u=!1)}}const r=()=>s(1,o="");return a.$$.update=()=>{a.$$.dirty&16&&s(2,{user:t,loading:l}=n,l)},[u,o,l,h,n,r]}class ke extends Q{constructor(e){super(),X(this,e,ge,_e,W,{})}}function xe(a){let e,s='<div class="redirect-content svelte-yijvaz"><h2 class="svelte-yijvaz">‚úÖ Connexion r√©ussie</h2> <p class="svelte-yijvaz">Redirection vers votre tableau de bord...</p> <div class="loading-spinner svelte-yijvaz"></div></div>';return{c(){e=_("div"),e.innerHTML=s,this.h()},l(t){e=m(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-xy339v"&&(e.innerHTML=s),this.h()},h(){c(e,"class","redirect-screen svelte-yijvaz")},m(t,l){E(t,e,l)},p:L,i:L,o:L,d(t){t&&d(e)}}}function be(a){let e,s;return e=new ke({}),e.$on("success",ye),e.$on("error",qe),{c(){re(e.$$.fragment)},l(t){ae(e.$$.fragment,t)},m(t,l){ie(e,t,l),s=!0},p:L,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){F(e.$$.fragment,t),s=!1},d(t){ce(e,t)}}}function Ee(a){let e,s='<div class="loading-content svelte-yijvaz"><div class="loading-spinner svelte-yijvaz"></div> <p class="svelte-yijvaz">Initialisation...</p></div>';return{c(){e=_("div"),e.innerHTML=s,this.h()},l(t){e=m(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-448tq1"&&(e.innerHTML=s),this.h()},h(){c(e,"class","loading-screen svelte-yijvaz")},m(t,l){E(t,e,l)},p:L,i:L,o:L,d(t){t&&d(e)}}}function Ce(a){let e,s,t,l,n,v;const u=[Ee,be,xe],o=[];function h(r,i){return r[0].loading?0:r[0].user?2:1}return l=h(a),n=o[l]=u[l](a),{c(){e=_("meta"),s=y(),t=_("main"),n.c(),this.h()},l(r){const i=se("svelte-gedkf9",document.head);e=m(i,"META",{name:!0,content:!0}),i.forEach(d),s=q(r),t=m(r,"MAIN",{class:!0});var p=b(t);n.l(p),p.forEach(d),this.h()},h(){document.title="Connexion - FunLearning",c(e,"name","description"),c(e,"content","Connectez-vous √† FunLearning pour acc√©der √† vos cours et exercices."),c(t,"class","svelte-yijvaz")},m(r,i){f(document.head,e),E(r,s,i),E(r,t,i),o[l].m(t,null),v=!0},p(r,[i]){let p=l;l=h(r),l===p?o[l].p(r,i):(oe(),F(o[p],1,1,()=>{o[p]=null}),le(),n=o[l],n?n.p(r,i):(n=o[l]=u[l](r),n.c()),$(n,1),n.m(t,null))},i(r){v||($(n),v=!0)},o(r){F(n),v=!1},d(r){r&&(d(s),d(t)),d(e),o[l].d()}}}function ye(a){console.log("Connexion r√©ussie:",a.detail)}function qe(a){console.error("Erreur de connexion:",a.detail)}function ze(a,e,s){let t;return K(a,G,l=>s(0,t=l)),ne(()=>{G.init()}),a.$$.update=()=>{a.$$.dirty&1&&t.user&&!t.loading&&fe("/dashboard")},[t]}class He extends Q{constructor(e){super(),X(this,e,ze,Ce,W,{})}}export{He as component};
