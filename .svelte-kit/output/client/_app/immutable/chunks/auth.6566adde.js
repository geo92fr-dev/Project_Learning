import{w as r}from"./index.ce9bc0b6.js";const e=r({user:null,loading:!1,error:null}),n=r(null),i=r(!1);e.subscribe(s=>{n.set(s.user),i.set(!!s.user)});const t={signIn:s=>{e.update(a=>({...a,user:s,loading:!1,error:null}))},signOut:()=>{e.update(s=>({...s,user:null,loading:!1,error:null}))},setLoading:s=>{e.update(a=>({...a,loading:s}))},setError:s=>{e.update(a=>({...a,error:s,loading:!1}))}};async function l(){t.setLoading(!0);try{await new Promise(s=>setTimeout(s,500)),t.signOut()}catch(s){throw t.setError(s.message||"Sign out failed"),s}}async function c(){t.setLoading(!0);try{await new Promise(s=>setTimeout(s,1e3)),t.setLoading(!1)}catch(s){t.setError(s.message||"Auth initialization failed")}}const d=n,o=r(!1);e.subscribe(s=>{o.set(s.loading)});export{e as a,i as b,n as c,c as i,o as l,l as s,d as u};
