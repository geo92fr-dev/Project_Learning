import{s as Se,f as m,l as j,a as N,g as b,h as S,m as E,d,c as z,j as h,i as P,x as r,n as R,y as se,F as De,Q as ue,C as Ce,D as de,B as Ve,e as _e}from"./scheduler.9ed29267.js";import{e as he,u as Ie,d as Oe}from"./each.287b3127.js";import{S as qe,i as ye}from"./index.c5ac0418.js";function pe(o,e,l){const t=o.slice();return t[11]=e[l],t}function ve(o){let e,l,t=o[0].timeLimit+"",a,s;return{c(){e=m("span"),l=j("⏱️ "),a=j(t),s=j("s"),this.h()},l(i){e=b(i,"SPAN",{class:!0});var f=S(e);l=E(f,"⏱️ "),a=E(f,t),s=E(f,"s"),f.forEach(d),this.h()},h(){h(e,"class","time-limit svelte-63fe2j")},m(i,f){P(i,e,f),r(e,l),r(e,a),r(e,s)},p(i,f){f&1&&t!==(t=i[0].timeLimit+"")&&R(a,t)},d(i){i&&d(e)}}}function me(o){let e,l=o[0].description+"",t;return{c(){e=m("p"),t=j(l),this.h()},l(a){e=b(a,"P",{class:!0});var s=S(e);t=E(s,l),s.forEach(d),this.h()},h(){h(e,"class","exercise-description svelte-63fe2j")},m(a,s){P(a,e,s),r(e,t)},p(a,s){s&1&&l!==(l=a[0].description+"")&&R(t,l)},d(a){a&&d(e)}}}function be(o){let e,l,t=o[11].explanation+"",a;return{c(){e=m("div"),l=j("💡 "),a=j(t),this.h()},l(s){e=b(s,"DIV",{class:!0});var i=S(e);l=E(i,"💡 "),a=E(i,t),i.forEach(d),this.h()},h(){h(e,"class","option-explanation svelte-63fe2j")},m(s,i){P(s,e,i),r(e,l),r(e,a)},p(s,i){i&1&&t!==(t=s[11].explanation+"")&&R(a,t)},d(s){s&&d(e)}}}function ke(o){let e,l;function t(i,f){if(f&9&&(e=null),i[11].isCorrect)return we;if(e==null&&(e=!!i[3].includes(i[11].id)),e)return Pe}let a=t(o,-1),s=a&&a(o);return{c(){s&&s.c(),l=_e()},l(i){s&&s.l(i),l=_e()},m(i,f){s&&s.m(i,f),P(i,l,f)},p(i,f){a!==(a=t(i,f))&&(s&&s.d(1),s=a&&a(i),s&&(s.c(),s.m(l.parentNode,l)))},d(i){i&&d(l),s&&s.d(i)}}}function Pe(o){let e;return{c(){e=j("❌")},l(l){e=E(l,"❌")},m(l,t){P(l,e,t)},d(l){l&&d(e)}}}function we(o){let e;return{c(){e=j("✅")},l(l){e=E(l,"✅")},m(l,t){P(l,e,t)},d(l){l&&d(e)}}}function je(o,e){let l,t,a,s,i,f,c,n,g,A=e[11].text+"",B,M,v=e[2]&&e[3].includes(e[11].id)&&e[11].explanation,D,V,U,F,J,T;function G(...L){return e[9](e[11],...L)}let k=v&&be(e),C=e[2]&&ke(e);return{key:o,first:null,c(){l=m("label"),t=m("input"),c=N(),n=m("div"),g=m("span"),B=j(A),M=N(),k&&k.c(),D=N(),V=m("div"),C&&C.c(),U=N(),this.h()},l(L){l=b(L,"LABEL",{class:!0});var p=S(l);t=b(p,"INPUT",{type:!0,name:!0,class:!0}),c=z(p),n=b(p,"DIV",{class:!0});var H=S(n);g=b(H,"SPAN",{class:!0});var K=S(g);B=E(K,A),K.forEach(d),M=z(H),k&&k.l(H),H.forEach(d),D=z(p),V=b(p,"DIV",{class:!0});var X=S(V);C&&C.l(X),X.forEach(d),U=z(p),p.forEach(d),this.h()},h(){h(t,"type",a=e[0].multipleCorrect?"checkbox":"radio"),h(t,"name",s="qcm-"+e[0].id),t.value=i=e[11].id,t.checked=f=e[3].includes(e[11].id),t.disabled=e[1],h(t,"class","svelte-63fe2j"),h(g,"class","option-text svelte-63fe2j"),h(n,"class","option-content svelte-63fe2j"),h(V,"class","option-indicator svelte-63fe2j"),h(l,"class",F=ue(e[7](e[11]))+" svelte-63fe2j"),this.first=l},m(L,p){P(L,l,p),r(l,t),r(l,c),r(l,n),r(n,g),r(g,B),r(n,M),k&&k.m(n,null),r(l,D),r(l,V),C&&C.m(V,null),r(l,U),J||(T=Ce(t,"change",G),J=!0)},p(L,p){e=L,p&1&&a!==(a=e[0].multipleCorrect?"checkbox":"radio")&&h(t,"type",a),p&1&&s!==(s="qcm-"+e[0].id)&&h(t,"name",s),p&1&&i!==(i=e[11].id)&&t.value!==i&&(t.value=i),p&9&&f!==(f=e[3].includes(e[11].id))&&(t.checked=f),p&2&&(t.disabled=e[1]),p&1&&A!==(A=e[11].text+"")&&R(B,A),p&13&&(v=e[2]&&e[3].includes(e[11].id)&&e[11].explanation),v?k?k.p(e,p):(k=be(e),k.c(),k.m(n,null)):k&&(k.d(1),k=null),e[2]?C?C.p(e,p):(C=ke(e),C.c(),C.m(V,null)):C&&(C.d(1),C=null),p&1&&F!==(F=ue(e[7](e[11]))+" svelte-63fe2j")&&h(l,"class",F)},d(L){L&&d(l),k&&k.d(),C&&C.d(),J=!1,T()}}}function Ee(o){let e,l,t,a;function s(c,n){return c[3].length===0?ze:Ne}let i=s(o),f=i(o);return{c(){e=m("div"),l=m("button"),f.c(),this.h()},l(c){e=b(c,"DIV",{class:!0});var n=S(e);l=b(n,"BUTTON",{class:!0});var g=S(l);f.l(g),g.forEach(d),n.forEach(d),this.h()},h(){h(l,"class","submit-btn svelte-63fe2j"),l.disabled=o[1],de(l,"disabled",!o[4]),h(e,"class","exercise-actions svelte-63fe2j")},m(c,n){P(c,e,n),r(e,l),f.m(l,null),t||(a=Ce(l,"click",o[6]),t=!0)},p(c,n){i===(i=s(c))&&f?f.p(c,n):(f.d(1),f=i(c),f&&(f.c(),f.m(l,null))),n&2&&(l.disabled=c[1]),n&16&&de(l,"disabled",!c[4])},d(c){c&&d(e),f.d(),t=!1,a()}}}function Ne(o){let e,l=o[3].length+"",t,a,s=o[3].length>1?"s":"",i,f;return{c(){e=j("Valider ("),t=j(l),a=j(" sélectionnée"),i=j(s),f=j(")")},l(c){e=E(c,"Valider ("),t=E(c,l),a=E(c," sélectionnée"),i=E(c,s),f=E(c,")")},m(c,n){P(c,e,n),P(c,t,n),P(c,a,n),P(c,i,n),P(c,f,n)},p(c,n){n&8&&l!==(l=c[3].length+"")&&R(t,l),n&8&&s!==(s=c[3].length>1?"s":"")&&R(i,s)},d(c){c&&(d(e),d(t),d(a),d(i),d(f))}}}function ze(o){let e;return{c(){e=j("Sélectionnez une réponse")},l(l){e=E(l,"Sélectionnez une réponse")},m(l,t){P(l,e,t)},p:se,d(l){l&&d(e)}}}function ge(o){let e,l,t="💡 Explication",a,s,i=o[0].explanation+"",f;return{c(){e=m("div"),l=m("h5"),l.textContent=t,a=N(),s=m("p"),f=j(i),this.h()},l(c){e=b(c,"DIV",{class:!0});var n=S(e);l=b(n,"H5",{class:!0,"data-svelte-h":!0}),Ve(l)!=="svelte-uxlros"&&(l.textContent=t),a=z(n),s=b(n,"P",{class:!0});var g=S(s);f=E(g,i),g.forEach(d),n.forEach(d),this.h()},h(){h(l,"class","svelte-63fe2j"),h(s,"class","svelte-63fe2j"),h(e,"class","exercise-explanation svelte-63fe2j")},m(c,n){P(c,e,n),r(e,l),r(e,a),r(e,s),r(s,f)},p(c,n){n&1&&i!==(i=c[0].explanation+"")&&R(f,i)},d(c){c&&d(e)}}}function Le(o){let e,l,t,a,s=o[0].difficulty+"",i,f,c,n,g=o[0].points+"",A,B,M,v,D,V=o[0].title+"",U,F,J,T,G,k=o[0].question+"",C,L,p,H=o[0].multipleCorrect?"📝 Sélectionnez toutes les bonnes réponses":"📝 Sélectionnez la bonne réponse",K,X,W,Q=[],ie=new Map,ee,Z,I=o[0].timeLimit&&ve(o),O=o[0].description&&me(o),$=he(o[0].options);const ne=u=>u[11].id;for(let u=0;u<$.length;u+=1){let _=pe(o,$,u),w=ne(_);ie.set(w,Q[u]=je(w,_))}let q=!o[2]&&Ee(o),y=o[2]&&o[0].explanation&&ge(o);return{c(){e=m("div"),l=m("div"),t=m("div"),a=m("span"),i=j(s),c=N(),n=m("span"),A=j(g),B=j(" pts"),M=N(),I&&I.c(),v=N(),D=m("h3"),U=j(V),F=N(),O&&O.c(),J=N(),T=m("div"),G=m("h4"),C=j(k),L=N(),p=m("p"),K=j(H),X=N(),W=m("div");for(let u=0;u<Q.length;u+=1)Q[u].c();ee=N(),q&&q.c(),Z=N(),y&&y.c(),this.h()},l(u){e=b(u,"DIV",{class:!0});var _=S(e);l=b(_,"DIV",{class:!0});var w=S(l);t=b(w,"DIV",{class:!0});var Y=S(t);a=b(Y,"SPAN",{class:!0});var ae=S(a);i=E(ae,s),ae.forEach(d),c=z(Y),n=b(Y,"SPAN",{class:!0});var le=S(n);A=E(le,g),B=E(le," pts"),le.forEach(d),M=z(Y),I&&I.l(Y),Y.forEach(d),v=z(w),D=b(w,"H3",{class:!0});var fe=S(D);U=E(fe,V),fe.forEach(d),F=z(w),O&&O.l(w),w.forEach(d),J=z(_),T=b(_,"DIV",{class:!0});var x=S(T);G=b(x,"H4",{class:!0});var oe=S(G);C=E(oe,k),oe.forEach(d),L=z(x),p=b(x,"P",{class:!0});var ce=S(p);K=E(ce,H),ce.forEach(d),x.forEach(d),X=z(_),W=b(_,"DIV",{class:!0});var re=S(W);for(let te=0;te<Q.length;te+=1)Q[te].l(re);re.forEach(d),ee=z(_),q&&q.l(_),Z=z(_),y&&y.l(_),_.forEach(d),this.h()},h(){h(a,"class",f="difficulty difficulty-"+o[0].difficulty+" svelte-63fe2j"),h(n,"class","points svelte-63fe2j"),h(t,"class","exercise-meta svelte-63fe2j"),h(D,"class","exercise-title svelte-63fe2j"),h(l,"class","exercise-header svelte-63fe2j"),h(G,"class","question svelte-63fe2j"),h(p,"class","instruction svelte-63fe2j"),h(T,"class","question-section svelte-63fe2j"),h(W,"class","options-list svelte-63fe2j"),h(e,"class","qcm-exercise svelte-63fe2j")},m(u,_){P(u,e,_),r(e,l),r(l,t),r(t,a),r(a,i),r(t,c),r(t,n),r(n,A),r(n,B),r(t,M),I&&I.m(t,null),r(l,v),r(l,D),r(D,U),r(l,F),O&&O.m(l,null),r(e,J),r(e,T),r(T,G),r(G,C),r(T,L),r(T,p),r(p,K),r(e,X),r(e,W);for(let w=0;w<Q.length;w+=1)Q[w]&&Q[w].m(W,null);r(e,ee),q&&q.m(e,null),r(e,Z),y&&y.m(e,null)},p(u,[_]){_&1&&s!==(s=u[0].difficulty+"")&&R(i,s),_&1&&f!==(f="difficulty difficulty-"+u[0].difficulty+" svelte-63fe2j")&&h(a,"class",f),_&1&&g!==(g=u[0].points+"")&&R(A,g),u[0].timeLimit?I?I.p(u,_):(I=ve(u),I.c(),I.m(t,null)):I&&(I.d(1),I=null),_&1&&V!==(V=u[0].title+"")&&R(U,V),u[0].description?O?O.p(u,_):(O=me(u),O.c(),O.m(l,null)):O&&(O.d(1),O=null),_&1&&k!==(k=u[0].question+"")&&R(C,k),_&1&&H!==(H=u[0].multipleCorrect?"📝 Sélectionnez toutes les bonnes réponses":"📝 Sélectionnez la bonne réponse")&&R(K,H),_&175&&($=he(u[0].options),Q=Ie(Q,_,ne,1,u,$,ie,W,Oe,je,null,pe)),u[2]?q&&(q.d(1),q=null):q?q.p(u,_):(q=Ee(u),q.c(),q.m(e,Z)),u[2]&&u[0].explanation?y?y.p(u,_):(y=ge(u),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i:se,o:se,d(u){u&&d(e),I&&I.d(),O&&O.d();for(let _=0;_<Q.length;_+=1)Q[_].d();q&&q.d(),y&&y.d()}}}function Ae(o,e,l){let t,{exercise:a}=e,{disabled:s=!1}=e,{showResult:i=!1}=e,{selectedOptions:f=[]}=e;const c=De();let n=[...f];function g(v,D){s||(a.multipleCorrect?D?l(3,n=[...n,v]):l(3,n=n.filter(V=>V!==v)):l(3,n=D?[v]:[]),c("optionChange",{selectedOptions:n}))}function A(){s||n.length===0||c("submit",{selectedOptions:n})}function B(v){const D="option-card",V=n.includes(v.id);return i?v.isCorrect?`${D} correct ${V?"selected":""}`:V?`${D} incorrect selected`:`${D} ${V?"selected":""}`:`${D} ${V?"selected":""}`}const M=(v,D)=>g(v.id,D.currentTarget.checked);return o.$$set=v=>{"exercise"in v&&l(0,a=v.exercise),"disabled"in v&&l(1,s=v.disabled),"showResult"in v&&l(2,i=v.showResult),"selectedOptions"in v&&l(8,f=v.selectedOptions)},o.$$.update=()=>{o.$$.dirty&10&&l(4,t=!s&&n.length>0)},[a,s,i,n,t,g,A,B,f,M]}class Be extends qe{constructor(e){super(),ye(this,e,Ae,Le,Se,{exercise:0,disabled:1,showResult:2,selectedOptions:8})}}export{Be as Q};
