import{s as Q,f as v,a as C,g,h as y,c as A,d as f,j as u,i as k,x as _,y as M,z as B,G as X,l as V,m as z,B as H,C as L,n as N,D as j,H as W}from"./scheduler.8dd50edf.js";import{S as Y,i as Z}from"./index.af76732a.js";import{e as x,l as $,u as ee,c as J,s as te,a as se}from"./googleAuth.03c8b086.js";function K(r){let e,i,t,o,a,s="âœ•",l,n;return{c(){e=v("div"),i=v("span"),t=V(r[5]),o=C(),a=v("button"),a.textContent=s,this.h()},l(c){e=g(c,"DIV",{class:!0,"data-testid":!0});var h=y(e);i=g(h,"SPAN",{class:!0});var I=y(i);t=z(I,r[5]),I.forEach(f),o=A(h),a=g(h,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),H(a)!=="svelte-zlb773"&&(a.textContent=s),h.forEach(f),this.h()},h(){u(i,"class","error-text"),u(a,"class","error-dismiss svelte-lg9thf"),u(a,"aria-label","Fermer l'erreur"),u(e,"class","error-banner svelte-lg9thf"),u(e,"data-testid","error-banner")},m(c,h){k(c,e,h),_(e,i),_(i,t),_(e,o),_(e,a),l||(n=L(a,"click",r[9]),l=!0)},p(c,h){h&32&&N(t,c[5])},d(c){c&&f(e),l=!1,n()}}}function le(r){let e,i,t,o,a,s=(r[3].displayName||"Utilisateur")+"",l,n,c,h=r[3].email+"",I,U,b,D=r[6]?"...":"DÃ©connexion",T,w,d;function O(m,p){return m[3].photoURL?re:ae}let G=O(r),E=G(r);return{c(){e=v("div"),i=v("div"),E.c(),t=C(),o=v("div"),a=v("div"),l=V(s),n=C(),c=v("div"),I=V(h),U=C(),b=v("button"),T=V(D),this.h()},l(m){e=g(m,"DIV",{class:!0,"data-testid":!0});var p=y(e);i=g(p,"DIV",{class:!0});var q=y(i);E.l(q),q.forEach(f),t=A(p),o=g(p,"DIV",{class:!0});var S=y(o);a=g(S,"DIV",{class:!0});var F=y(a);l=z(F,s),F.forEach(f),n=A(S),c=g(S,"DIV",{class:!0});var P=y(c);I=z(P,h),P.forEach(f),S.forEach(f),U=A(p),b=g(p,"BUTTON",{class:!0,"data-testid":!0});var R=y(b);T=z(R,D),R.forEach(f),p.forEach(f),this.h()},h(){u(i,"class","user-avatar svelte-lg9thf"),u(a,"class","user-name svelte-lg9thf"),u(c,"class","user-email svelte-lg9thf"),u(o,"class","user-details svelte-lg9thf"),u(b,"class","signout-btn svelte-lg9thf"),b.disabled=r[6],u(b,"data-testid","signout-btn"),u(e,"class","user-info svelte-lg9thf"),u(e,"data-testid","user-info")},m(m,p){k(m,e,p),_(e,i),E.m(i,null),_(e,t),_(e,o),_(o,a),_(a,l),_(o,n),_(o,c),_(c,I),_(e,U),_(e,b),_(b,T),w||(d=L(b,"click",r[8]),w=!0)},p(m,p){G===(G=O(m))&&E?E.p(m,p):(E.d(1),E=G(m),E&&(E.c(),E.m(i,null))),p&8&&s!==(s=(m[3].displayName||"Utilisateur")+"")&&N(l,s),p&8&&h!==(h=m[3].email+"")&&N(I,h),p&64&&D!==(D=m[6]?"...":"DÃ©connexion")&&N(T,D),p&64&&(b.disabled=m[6])},d(m){m&&f(e),E.d(),w=!1,d()}}}function ie(r){let e,i,t,o;function a(n,c){return n[6]?oe:ne}let s=a(r),l=s(r);return{c(){e=v("button"),l.c(),this.h()},l(n){e=g(n,"BUTTON",{class:!0,"data-testid":!0});var c=y(e);l.l(c),c.forEach(f),this.h()},h(){u(e,"class",i="google-signin-btn "+r[2]+" svelte-lg9thf"),e.disabled=r[6],u(e,"data-testid","google-signin-btn"),j(e,"loading",r[6])},m(n,c){k(n,e,c),l.m(e,null),t||(o=L(e,"click",r[7]),t=!0)},p(n,c){s===(s=a(n))&&l?l.p(n,c):(l.d(1),l=s(n),l&&(l.c(),l.m(e,null))),c&4&&i!==(i="google-signin-btn "+n[2]+" svelte-lg9thf")&&u(e,"class",i),c&64&&(e.disabled=n[6]),c&68&&j(e,"loading",n[6])},d(n){n&&f(e),l.d(),t=!1,o()}}}function ae(r){var o,a;let e,i=(((o=r[3].displayName)==null?void 0:o.charAt(0))||((a=r[3].email)==null?void 0:a.charAt(0))||"ðŸ‘¤")+"",t;return{c(){e=v("div"),t=V(i),this.h()},l(s){e=g(s,"DIV",{class:!0});var l=y(e);t=z(l,i),l.forEach(f),this.h()},h(){u(e,"class","avatar-placeholder svelte-lg9thf")},m(s,l){k(s,e,l),_(e,t)},p(s,l){var n,c;l&8&&i!==(i=(((n=s[3].displayName)==null?void 0:n.charAt(0))||((c=s[3].email)==null?void 0:c.charAt(0))||"ðŸ‘¤")+"")&&N(t,i)},d(s){s&&f(e)}}}function re(r){let e,i;return{c(){e=v("img"),this.h()},l(t){e=g(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){W(e.src,i=r[3].photoURL)||u(e,"src",i),u(e,"alt","Avatar"),u(e,"class","svelte-lg9thf")},m(t,o){k(t,e,o)},p(t,o){o&8&&!W(e.src,i=t[3].photoURL)&&u(e,"src",i)},d(t){t&&f(e)}}}function ne(r){let e,i='<svg viewBox="0 0 24 24" width="20" height="20"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg>',t,o,a;return{c(){e=v("div"),e.innerHTML=i,t=C(),o=v("span"),a=V(r[0]),this.h()},l(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-9ucka5"&&(e.innerHTML=i),t=A(s),o=g(s,"SPAN",{});var l=y(o);a=z(l,r[0]),l.forEach(f),this.h()},h(){u(e,"class","google-icon svelte-lg9thf")},m(s,l){k(s,e,l),k(s,t,l),k(s,o,l),_(o,a)},p(s,l){l&1&&N(a,s[0])},d(s){s&&(f(e),f(t),f(o))}}}function oe(r){let e,i,t,o="Connexion en cours...";return{c(){e=v("div"),i=C(),t=v("span"),t.textContent=o,this.h()},l(a){e=g(a,"DIV",{class:!0,"data-testid":!0}),y(e).forEach(f),i=A(a),t=g(a,"SPAN",{"data-svelte-h":!0}),H(t)!=="svelte-1l25ql8"&&(t.textContent=o),this.h()},h(){u(e,"class","spinner svelte-lg9thf"),u(e,"data-testid","loading-spinner")},m(a,s){k(a,e,s),k(a,i,s),k(a,t,s)},p:M,d(a){a&&(f(e),f(i),f(t))}}}function ce(r){let e,i,t=r[5]&&K(r);function o(l,n){if(!l[4])return ie;if(l[1])return le}let a=o(r),s=a&&a(r);return{c(){e=v("div"),t&&t.c(),i=C(),s&&s.c(),this.h()},l(l){e=g(l,"DIV",{class:!0,"data-testid":!0});var n=y(e);t&&t.l(n),i=A(n),s&&s.l(n),n.forEach(f),this.h()},h(){u(e,"class","google-auth-component svelte-lg9thf"),u(e,"data-testid","google-auth")},m(l,n){k(l,e,n),t&&t.m(e,null),_(e,i),s&&s.m(e,null)},p(l,[n]){l[5]?t?t.p(l,n):(t=K(l),t.c(),t.m(e,i)):t&&(t.d(1),t=null),a===(a=o(l))&&s?s.p(l,n):(s&&s.d(1),s=a&&a(l),s&&(s.c(),s.m(e,null)))},i:M,o:M,d(l){l&&f(e),t&&t.d(),s&&s.d()}}}function ue(r,e,i){let t,o,a,s,l,n,c;B(r,x,d=>i(10,l=d)),B(r,$,d=>i(11,n=d)),B(r,ee,d=>i(12,c=d));const h=X();let{buttonText:I="Se connecter avec Google"}=e,{showUserInfo:U=!0}=e,{size:b="medium"}=e;async function D(){J();try{const d=await te();d.success?h("success",{type:"google-signin",user:d.user}):h("error",{type:"google-signin-failed",error:d.error})}catch(d){h("error",{type:"google-signin-exception",error:d.message})}}async function T(){try{(await se()).success&&h("success",{type:"signout",message:"DÃ©connexion rÃ©ussie"})}catch(d){h("error",{type:"signout-failed",error:d.message})}}function w(){J()}return r.$$set=d=>{"buttonText"in d&&i(0,I=d.buttonText),"showUserInfo"in d&&i(1,U=d.showUserInfo),"size"in d&&i(2,b=d.size)},r.$$.update=()=>{r.$$.dirty&4096&&i(3,t=c),r.$$.dirty&2048&&i(6,o=n),r.$$.dirty&1024&&i(5,a=l),r.$$.dirty&8&&i(4,s=t!==null)},[I,U,b,t,s,a,o,D,T,w,l,n,c]}class _e extends Y{constructor(e){super(),Z(this,e,ue,ce,Q,{buttonText:0,showUserInfo:1,size:2})}}export{_e as G};
