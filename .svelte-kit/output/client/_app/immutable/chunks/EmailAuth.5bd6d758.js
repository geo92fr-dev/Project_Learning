import{s as oe,f as h,l as j,a as P,g as m,h as S,m as M,d,c as L,B as Z,j as r,i as A,x as u,L as V,C as q,M as ie,n as O,y as ne,F as ue,G as ce}from"./scheduler.8dd50edf.js";import{S as fe,i as de}from"./index.af76732a.js";function re(a){let t,e;return{c(){t=h("div"),e=j(a[5]),this.h()},l(l){t=m(l,"DIV",{class:!0});var n=S(t);e=M(n,a[5]),n.forEach(d),this.h()},h(){r(t,"class","error-message svelte-nhw0xy")},m(l,n){A(l,t,n),u(t,e)},p(l,n){n&32&&O(e,l[5])},d(l){l&&d(t)}}}function ae(a){let t,e,l="Confirmer le mot de passe",n,s,f,y;return{c(){t=h("div"),e=h("label"),e.textContent=l,n=P(),s=h("input"),this.h()},l(c){t=m(c,"DIV",{class:!0});var i=S(t);e=m(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-zfjiig"&&(e.textContent=l),n=L(i),s=m(i,"INPUT",{id:!0,type:!0,placeholder:!0,minlength:!0,class:!0}),i.forEach(d),this.h()},h(){r(e,"for","confirmPassword"),r(e,"class","svelte-nhw0xy"),r(s,"id","confirmPassword"),r(s,"type","password"),s.required=!0,r(s,"placeholder","‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"),r(s,"minlength","6"),s.disabled=a[4],r(s,"class","svelte-nhw0xy"),r(t,"class","form-group svelte-nhw0xy")},m(c,i){A(c,t,i),u(t,e),u(t,n),u(t,s),V(s,a[2]),f||(y=q(s,"input",a[10]),f=!0)},p(c,i){i&16&&(s.disabled=c[4]),i&4&&s.value!==c[2]&&V(s,c[2])},d(c){c&&d(t),f=!1,y()}}}function pe(a){let t=a[3]?"‚úâÔ∏è Cr√©er mon compte":"üîê Se connecter",e;return{c(){e=j(t)},l(l){e=M(l,t)},m(l,n){A(l,e,n)},p(l,n){n&8&&t!==(t=l[3]?"‚úâÔ∏è Cr√©er mon compte":"üîê Se connecter")&&O(e,t)},d(l){l&&d(e)}}}function he(a){let t,e,l=a[3]?"Inscription...":"Connexion...",n;return{c(){t=h("span"),e=P(),n=j(l),this.h()},l(s){t=m(s,"SPAN",{class:!0}),S(t).forEach(d),e=L(s),n=M(s,l),this.h()},h(){r(t,"class","loading-spinner svelte-nhw0xy")},m(s,f){A(s,t,f),A(s,e,f),A(s,n,f)},p(s,f){f&8&&l!==(l=s[3]?"Inscription...":"Connexion...")&&O(n,l)},d(s){s&&(d(t),d(e),d(n))}}}function me(a){let t,e,l,n=a[3]?"Cr√©er un compte":"Se connecter",s,f,y,c,i,z="Email",B,_,N,I,E,F="Mot de passe",Q,w,W,G,k,X,T,D,U=a[3]?"D√©j√† un compte ? Se connecter":"Pas de compte ? S'inscrire",H,Y,x,v=a[5]&&re(a),b=a[3]&&ae(a);function $(o,p){return o[4]?he:pe}let R=$(a),C=R(a);return{c(){t=h("div"),e=h("form"),l=h("h3"),s=j(n),f=P(),v&&v.c(),y=P(),c=h("div"),i=h("label"),i.textContent=z,B=P(),_=h("input"),N=P(),I=h("div"),E=h("label"),E.textContent=F,Q=P(),w=h("input"),W=P(),b&&b.c(),G=P(),k=h("button"),C.c(),X=P(),T=h("div"),D=h("button"),H=j(U),this.h()},l(o){t=m(o,"DIV",{class:!0});var p=S(t);e=m(p,"FORM",{class:!0});var g=S(e);l=m(g,"H3",{class:!0});var ee=S(l);s=M(ee,n),ee.forEach(d),f=L(g),v&&v.l(g),y=L(g),c=m(g,"DIV",{class:!0});var J=S(c);i=m(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-1p9d3fm"&&(i.textContent=z),B=L(J),_=m(J,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),J.forEach(d),N=L(g),I=m(g,"DIV",{class:!0});var K=S(I);E=m(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(E)!=="svelte-pt4qpc"&&(E.textContent=F),Q=L(K),w=m(K,"INPUT",{id:!0,type:!0,placeholder:!0,minlength:!0,class:!0}),K.forEach(d),W=L(g),b&&b.l(g),G=L(g),k=m(g,"BUTTON",{type:!0,class:!0});var te=S(k);C.l(te),te.forEach(d),X=L(g),T=m(g,"DIV",{class:!0});var se=S(T);D=m(se,"BUTTON",{type:!0,class:!0});var le=S(D);H=M(le,U),le.forEach(d),se.forEach(d),g.forEach(d),p.forEach(d),this.h()},h(){r(l,"class","svelte-nhw0xy"),r(i,"for","email"),r(i,"class","svelte-nhw0xy"),r(_,"id","email"),r(_,"type","email"),_.required=!0,r(_,"placeholder","votre@email.com"),_.disabled=a[4],r(_,"class","svelte-nhw0xy"),r(c,"class","form-group svelte-nhw0xy"),r(E,"for","password"),r(E,"class","svelte-nhw0xy"),r(w,"id","password"),r(w,"type","password"),w.required=!0,r(w,"placeholder","‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"),r(w,"minlength","6"),w.disabled=a[4],r(w,"class","svelte-nhw0xy"),r(I,"class","form-group svelte-nhw0xy"),r(k,"type","submit"),r(k,"class","auth-button svelte-nhw0xy"),k.disabled=a[4],r(D,"type","button"),r(D,"class","toggle-button svelte-nhw0xy"),D.disabled=a[4],r(T,"class","toggle-mode svelte-nhw0xy"),r(e,"class","auth-form svelte-nhw0xy"),r(t,"class","email-auth svelte-nhw0xy")},m(o,p){A(o,t,p),u(t,e),u(e,l),u(l,s),u(e,f),v&&v.m(e,null),u(e,y),u(e,c),u(c,i),u(c,B),u(c,_),V(_,a[0]),u(e,N),u(e,I),u(I,E),u(I,Q),u(I,w),V(w,a[1]),u(e,W),b&&b.m(e,null),u(e,G),u(e,k),C.m(k,null),u(e,X),u(e,T),u(T,D),u(D,H),Y||(x=[q(_,"input",a[8]),q(w,"input",a[9]),q(D,"click",a[7]),q(e,"submit",ie(a[6]))],Y=!0)},p(o,[p]){p&8&&n!==(n=o[3]?"Cr√©er un compte":"Se connecter")&&O(s,n),o[5]?v?v.p(o,p):(v=re(o),v.c(),v.m(e,y)):v&&(v.d(1),v=null),p&16&&(_.disabled=o[4]),p&1&&_.value!==o[0]&&V(_,o[0]),p&16&&(w.disabled=o[4]),p&2&&w.value!==o[1]&&V(w,o[1]),o[3]?b?b.p(o,p):(b=ae(o),b.c(),b.m(e,G)):b&&(b.d(1),b=null),R===(R=$(o))&&C?C.p(o,p):(C.d(1),C=R(o),C&&(C.c(),C.m(k,null))),p&16&&(k.disabled=o[4]),p&8&&U!==(U=o[3]?"D√©j√† un compte ? Se connecter":"Pas de compte ? S'inscrire")&&O(H,U),p&16&&(D.disabled=o[4])},i:ne,o:ne,d(o){o&&d(t),v&&v.d(),b&&b.d(),C.d(),Y=!1,ue(x)}}}function _e(a,t,e){const l=ce();let n="",s="",f="",y=!1,c=!1,i="";async function z(){if(!n||!s){e(5,i="Veuillez remplir tous les champs");return}if(y&&s!==f){e(5,i="Les mots de passe ne correspondent pas");return}if(s.length<6){e(5,i="Le mot de passe doit contenir au moins 6 caract√®res");return}e(4,c=!0),e(5,i="");try{await new Promise(F=>setTimeout(F,1e3));const E={email:n,name:n.split("@")[0],method:y?"signup":"signin"};l("auth-success",E)}catch(E){e(5,i=y?"Erreur lors de l'inscription":"Erreur lors de la connexion"),console.error("Auth error:",E)}finally{e(4,c=!1)}}function B(){e(3,y=!y),e(5,i=""),e(2,f="")}function _(){n=this.value,e(0,n)}function N(){s=this.value,e(1,s)}function I(){f=this.value,e(2,f)}return[n,s,f,y,c,i,z,B,_,N,I]}class we extends fe{constructor(t){super(),de(this,t,_e,me,oe,{})}}export{we as E};
