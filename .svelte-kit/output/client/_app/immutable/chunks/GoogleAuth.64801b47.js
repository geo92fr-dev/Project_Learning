import{s as Q,f as v,a as C,g as m,h as y,c as A,d,j as u,i as k,x as _,y as M,z as B,G as X,l as V,m as N,B as H,C as L,n as z,D as j,H as W}from"./scheduler.8dd50edf.js";import{S as Y,i as Z}from"./index.af76732a.js";import{e as x,l as $,u as ee,c as J,s as te,a as se}from"./googleAuth.03c8b086.js";function K(a){let e,i,t,o,r,s="âœ•",l,n;return{c(){e=v("div"),i=v("span"),t=V(a[5]),o=C(),r=v("button"),r.textContent=s,this.h()},l(c){e=m(c,"DIV",{class:!0,"data-testid":!0});var h=y(e);i=m(h,"SPAN",{class:!0});var I=y(i);t=N(I,a[5]),I.forEach(d),o=A(h),r=m(h,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),H(r)!=="svelte-yc4nmv"&&(r.textContent=s),h.forEach(d),this.h()},h(){u(i,"class","error-text"),u(r,"class","error-dismiss svelte-11msynr"),u(r,"aria-label","Fermer l'erreur"),u(e,"class","error-banner svelte-11msynr"),u(e,"data-testid","error-banner")},m(c,h){k(c,e,h),_(e,i),_(i,t),_(e,o),_(e,r),l||(n=L(r,"click",a[9]),l=!0)},p(c,h){h&32&&z(t,c[5])},d(c){c&&d(e),l=!1,n()}}}function le(a){let e,i,t,o,r,s=(a[3].displayName||"Utilisateur")+"",l,n,c,h=a[3].email+"",I,U,b,D=a[6]?"...":"DÃ©connexion",T,w,f;function O(p,g){return p[3].photoURL?ae:re}let G=O(a),E=G(a);return{c(){e=v("div"),i=v("div"),E.c(),t=C(),o=v("div"),r=v("div"),l=V(s),n=C(),c=v("div"),I=V(h),U=C(),b=v("button"),T=V(D),this.h()},l(p){e=m(p,"DIV",{class:!0,"data-testid":!0});var g=y(e);i=m(g,"DIV",{class:!0});var q=y(i);E.l(q),q.forEach(d),t=A(g),o=m(g,"DIV",{class:!0});var S=y(o);r=m(S,"DIV",{class:!0});var F=y(r);l=N(F,s),F.forEach(d),n=A(S),c=m(S,"DIV",{class:!0});var P=y(c);I=N(P,h),P.forEach(d),S.forEach(d),U=A(g),b=m(g,"BUTTON",{class:!0,"data-testid":!0});var R=y(b);T=N(R,D),R.forEach(d),g.forEach(d),this.h()},h(){u(i,"class","user-avatar svelte-11msynr"),u(r,"class","user-name svelte-11msynr"),u(c,"class","user-email svelte-11msynr"),u(o,"class","user-details svelte-11msynr"),u(b,"class","signout-btn svelte-11msynr"),b.disabled=a[6],u(b,"data-testid","signout-btn"),u(e,"class","user-info svelte-11msynr"),u(e,"data-testid","user-info")},m(p,g){k(p,e,g),_(e,i),E.m(i,null),_(e,t),_(e,o),_(o,r),_(r,l),_(o,n),_(o,c),_(c,I),_(e,U),_(e,b),_(b,T),w||(f=L(b,"click",a[8]),w=!0)},p(p,g){G===(G=O(p))&&E?E.p(p,g):(E.d(1),E=G(p),E&&(E.c(),E.m(i,null))),g&8&&s!==(s=(p[3].displayName||"Utilisateur")+"")&&z(l,s),g&8&&h!==(h=p[3].email+"")&&z(I,h),g&64&&D!==(D=p[6]?"...":"DÃ©connexion")&&z(T,D),g&64&&(b.disabled=p[6])},d(p){p&&d(e),E.d(),w=!1,f()}}}function ie(a){let e,i,t,o;function r(n,c){return n[6]?oe:ne}let s=r(a),l=s(a);return{c(){e=v("button"),l.c(),this.h()},l(n){e=m(n,"BUTTON",{class:!0,"data-testid":!0});var c=y(e);l.l(c),c.forEach(d),this.h()},h(){u(e,"class",i="google-signin-btn "+a[2]+" svelte-11msynr"),e.disabled=a[6],u(e,"data-testid","google-signin-btn"),j(e,"loading",a[6])},m(n,c){k(n,e,c),l.m(e,null),t||(o=L(e,"click",a[7]),t=!0)},p(n,c){s===(s=r(n))&&l?l.p(n,c):(l.d(1),l=s(n),l&&(l.c(),l.m(e,null))),c&4&&i!==(i="google-signin-btn "+n[2]+" svelte-11msynr")&&u(e,"class",i),c&64&&(e.disabled=n[6]),c&68&&j(e,"loading",n[6])},d(n){n&&d(e),l.d(),t=!1,o()}}}function re(a){var o,r;let e,i=(((o=a[3].displayName)==null?void 0:o.charAt(0))||((r=a[3].email)==null?void 0:r.charAt(0))||"ðŸ‘¤")+"",t;return{c(){e=v("div"),t=V(i),this.h()},l(s){e=m(s,"DIV",{class:!0});var l=y(e);t=N(l,i),l.forEach(d),this.h()},h(){u(e,"class","avatar-placeholder svelte-11msynr")},m(s,l){k(s,e,l),_(e,t)},p(s,l){var n,c;l&8&&i!==(i=(((n=s[3].displayName)==null?void 0:n.charAt(0))||((c=s[3].email)==null?void 0:c.charAt(0))||"ðŸ‘¤")+"")&&z(t,i)},d(s){s&&d(e)}}}function ae(a){let e,i;return{c(){e=v("img"),this.h()},l(t){e=m(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){W(e.src,i=a[3].photoURL)||u(e,"src",i),u(e,"alt","Avatar"),u(e,"class","svelte-11msynr")},m(t,o){k(t,e,o)},p(t,o){o&8&&!W(e.src,i=t[3].photoURL)&&u(e,"src",i)},d(t){t&&d(e)}}}function ne(a){let e,i='<svg viewBox="0 0 24 24" width="20" height="20"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg>',t,o,r;return{c(){e=v("div"),e.innerHTML=i,t=C(),o=v("span"),r=V(a[0]),this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1bo5srv"&&(e.innerHTML=i),t=A(s),o=m(s,"SPAN",{});var l=y(o);r=N(l,a[0]),l.forEach(d),this.h()},h(){u(e,"class","google-icon svelte-11msynr")},m(s,l){k(s,e,l),k(s,t,l),k(s,o,l),_(o,r)},p(s,l){l&1&&z(r,s[0])},d(s){s&&(d(e),d(t),d(o))}}}function oe(a){let e,i,t,o="Connexion en cours...";return{c(){e=v("div"),i=C(),t=v("span"),t.textContent=o,this.h()},l(r){e=m(r,"DIV",{class:!0,"data-testid":!0}),y(e).forEach(d),i=A(r),t=m(r,"SPAN",{"data-svelte-h":!0}),H(t)!=="svelte-1l25ql8"&&(t.textContent=o),this.h()},h(){u(e,"class","spinner svelte-11msynr"),u(e,"data-testid","loading-spinner")},m(r,s){k(r,e,s),k(r,i,s),k(r,t,s)},p:M,d(r){r&&(d(e),d(i),d(t))}}}function ce(a){let e,i,t=a[5]&&K(a);function o(l,n){if(!l[4])return ie;if(l[1])return le}let r=o(a),s=r&&r(a);return{c(){e=v("div"),t&&t.c(),i=C(),s&&s.c(),this.h()},l(l){e=m(l,"DIV",{class:!0,"data-testid":!0});var n=y(e);t&&t.l(n),i=A(n),s&&s.l(n),n.forEach(d),this.h()},h(){u(e,"class","google-auth-component svelte-11msynr"),u(e,"data-testid","google-auth")},m(l,n){k(l,e,n),t&&t.m(e,null),_(e,i),s&&s.m(e,null)},p(l,[n]){l[5]?t?t.p(l,n):(t=K(l),t.c(),t.m(e,i)):t&&(t.d(1),t=null),r===(r=o(l))&&s?s.p(l,n):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(e,null)))},i:M,o:M,d(l){l&&d(e),t&&t.d(),s&&s.d()}}}function ue(a,e,i){let t,o,r,s,l,n,c;B(a,x,f=>i(10,l=f)),B(a,$,f=>i(11,n=f)),B(a,ee,f=>i(12,c=f));const h=X();let{buttonText:I="Se connecter avec Google"}=e,{showUserInfo:U=!0}=e,{size:b="medium"}=e;async function D(){J();try{const f=await te();f.success?h("success",{type:"google-signin",user:f.user}):h("error",{type:"google-signin-failed",error:f.error})}catch(f){h("error",{type:"google-signin-exception",error:f.message})}}async function T(){try{(await se()).success&&h("success",{type:"signout",message:"DÃ©connexion rÃ©ussie"})}catch(f){h("error",{type:"signout-failed",error:f.message})}}function w(){J()}return a.$$set=f=>{"buttonText"in f&&i(0,I=f.buttonText),"showUserInfo"in f&&i(1,U=f.showUserInfo),"size"in f&&i(2,b=f.size)},a.$$.update=()=>{a.$$.dirty&4096&&i(3,t=c),a.$$.dirty&2048&&i(6,o=n),a.$$.dirty&1024&&i(5,r=l),a.$$.dirty&8&&i(4,s=t!==null)},[I,U,b,t,s,r,o,D,T,w,l,n,c]}class _e extends Y{constructor(e){super(),Z(this,e,ue,ce,Q,{buttonText:0,showUserInfo:1,size:2})}}export{_e as G};
